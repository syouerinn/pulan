var getBrowser=function(){var c=window.navigator.userAgent.toLowerCase();var a=window.navigator.appVersion.toLowerCase();var b="unknown";if(c.indexOf("msie")!=-1){if(a.indexOf("msie 6.")!=-1){b="ie6"}else{if(a.indexOf("msie 7.")!=-1){b="ie7"}else{if(a.indexOf("msie 8.")!=-1){b="ie8"}else{if(a.indexOf("msie 9.")!=-1){b="ie9"}else{if(a.indexOf("msie 10.")!=-1){b="ie10"}else{b="ie"}}}}}}else{if(c.indexOf("trident/7")!=-1){b="ie11"}else{if(c.indexOf("chrome")!=-1){b="chrome"}else{if(c.indexOf("safari")!=-1){b="safari"}else{if(c.indexOf("opera")!=-1){b="opera"}else{if(c.indexOf("firefox")!=-1){b="firefox"}}}}}}return b};(function(){var f,i,h,d,e,g,j,a,c,b;f=window.device;window.device={};h=window.document.documentElement;b=window.navigator.userAgent.toLowerCase();device.ios=function(){return device.iphone()||device.ipod()||device.ipad()};device.iphone=function(){return d("iphone")};device.ipod=function(){return d("ipod")};device.ipad=function(){return d("ipad")};device.android=function(){return d("android")};device.androidPhone=function(){return device.android()&&d("mobile")};device.androidTablet=function(){return device.android()&&!d("mobile")};device.blackberry=function(){return d("blackberry")||d("bb10")||d("rim")};device.blackberryPhone=function(){return device.blackberry()&&!d("tablet")};device.blackberryTablet=function(){return device.blackberry()&&d("tablet")};device.windows=function(){return d("windows")};device.windowsPhone=function(){return device.windows()&&d("phone")};device.windowsTablet=function(){return device.windows()&&d("touch")};device.fxos=function(){return(d("(mobile;")||d("(tablet;"))&&d("; rv:")};device.fxosPhone=function(){return device.fxos()&&d("mobile")};device.fxosTablet=function(){return device.fxos()&&d("tablet")};device.meego=function(){return d("meego")};device.mobile=function(){return device.androidPhone()||device.iphone()||device.ipod()||device.windowsPhone()||device.blackberryPhone()||device.fxosPhone()||device.meego()};device.tablet=function(){return device.ipad()||device.androidTablet()||device.blackberryTablet()||device.windowsTablet()||device.fxosTablet()};device.portrait=function(){return Math.abs(window.orientation)!==90};device.landscape=function(){return Math.abs(window.orientation)===90};device.noConflict=function(){window.device=f;return this};d=function(k){return b.indexOf(k)!==-1};g=function(l){var k;k=new RegExp(l,"i");return h.className.match(k)};i=function(k){if(!g(k)){return h.className+=" "+k}};a=function(k){if(g(k)){return h.className=h.className.replace(k,"")}};if(device.ios()){if(device.ipad()){i("ios ipad tablet")}else{if(device.iphone()){i("ios iphone mobile")}else{if(device.ipod()){i("ios ipod mobile")}}}}else{if(device.android()){if(device.androidTablet()){i("android tablet")}else{i("android mobile")}}else{if(device.blackberry()){if(device.blackberryTablet()){i("blackberry tablet")}else{i("blackberry mobile")}}else{if(device.windows()){if(device.windowsTablet()){i("windows tablet")}else{if(device.windowsPhone()){i("windows mobile")}else{i("desktop")}}}else{if(device.fxos()){if(device.fxosTablet()){i("fxos tablet")}else{i("fxos mobile")}}else{if(device.meego()){i("meego mobile")}else{i("desktop")}}}}}}e=function(){if(device.landscape()){a("portrait");return i("landscape")}else{a("landscape");return i("portrait")}};c="onorientationchange" in window;j=c?"orientationchange":"resize";if(window.addEventListener){window.addEventListener(j,e,false)}else{if(window.attachEvent){window.attachEvent(j,e)}else{window[j]=e}}e()}).call(this);(function(a){a.fn.tile=function(e){var d,b,j,g,i=this.length-1,f;if(!e){e=this.length}this.each(function(){f=this.style;if(f.removeProperty){f.removeProperty("height")}if(f.removeAttribute){f.removeAttribute("height")}});return this.each(function(c){j=c%e;if(j==0){d=[]}d[j]=a(this);g=d[j].height();if(j==0||g>b){b=g}if(c==i||j==e-1){a.each(d,function(){this.height(b)})}})}})(jQuery);jQuery.fn.smoothScroll=function(e){var b={easing:"easeInOutCubic",duration:600,cancel:true,target:null,start:function(c,d){},step:function(c,d){},canceled:function(c,d){},complete:function(c,d){},adjust:0};jQuery.extend(b,e);var a=false;var o=jQuery(window);var i=jQuery(document.body);var p=jQuery({st:0,sl:0,v:0});var j;if(b.target){j=jQuery(b.target);if(j.children().length!=1){j.wrapInner("<div style='position: relative'></div>")}}function h(q){q.preventDefault();q.stopPropagation();var d=jQuery(this).attr("href");var c=jQuery(d);if(c.length===0){c=i}a=true;if(j){p.attr({st:j.scrollTop(),sl:j.scrollLeft()})}else{p.attr({st:o.scrollTop(),sl:o.scrollLeft()})}b.start(p.attr("sl"),p.attr("st"));var r=c.offset();if(j){r=c.position();if(r.top>j.get(0).scrollHeight-j.innerHeight()){r.top=j.get(0).scrollHeight-j.innerHeight()}}p.stop(true).animate({st:r.top+b.adjust,sl:r.left},{duration:b.duration,easing:b.easing,step:n,complete:l})}function l(){a=false;m(this.sl,this.st);b.complete(this.sl,this.st)}function n(){m(this.sl,this.st);b.step(this.sl,this.st)}function m(c,d){if(j){j.scrollLeft(c);j.scrollTop(d)}else{window.scrollTo(c,d)}}function k(){if(a){b.canceled(p.attr("sl"),p.attr("st"));a=false;p.stop(true)}}function f(c,q){a=true;if(j){p.attr({st:j.scrollTop(),sl:j.scrollLeft()})}else{p.attr({st:o.scrollTop(),sl:o.scrollLeft()})}b.start(p.attr("sl"),p.attr("st"));var d={top:q,left:c};if(j){if(d.top>j.get(0).scrollHeight-j.innerHeight()){d.top=j.get(0).scrollHeight-j.innerHeight()}if(d.left>j.get(0).scrollWidth-j.innerWidth()){d.left=j.get(0).scrollWidth-j.innerWidth()}}else{if(d.top>document.body.scrollHeight-window.innerHeight){d.top=document.body.scrollHeight-window.innerHeight}if(d.left>document.body.scrollWidth-window.innerWidth){d.left=document.body.scrollWidth-window.innerWidth}}p.stop(true).animate({st:d.top+b.adjust,sl:d.left},{duration:b.duration,easing:b.easing,step:n,complete:l})}function g(c){var d=jQuery(c).offset();if(j){d=jQuery(c).position()}f(d.left,d.top)}if(b.cancel){if("ontouchend" in document){if(j){j.unbind("touchstart",k);j.bind("touchstart",k)}else{i.unbind("touchstart",k);i.bind("touchstart",k)}}else{if(j){j.bind("DOMMouseScroll mousewheel",k);j.unbind("mousedown",k);j.bind("mousedown",k)}else{o.bind("DOMMouseScroll mousewheel",k);i.unbind("mousedown",k);i.bind("mousedown",k)}}}jQuery.each(this,function(){jQuery(this).unbind("click",h);jQuery(this).bind("click",h)});return{scroll:f,scrollToElement:g,stop:k}};jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});
(function(){function c(){}var l=c.prototype;var v=this;var x=v.EventEmitter;function h(z,A){var y=z.length;while(y--){if(z[y].listener===A){return y}}return -1}function j(y){return function z(){return this[y].apply(this,arguments)}}l.getListeners=function t(y){var B=this._getEvents();var z;var A;if(typeof y==="object"){z={};for(A in B){if(B.hasOwnProperty(A)&&y.test(A)){z[A]=B[A]}}}else{z=B[y]||(B[y]=[])}return z};l.flattenListeners=function r(A){var y=[];var z;for(z=0;z<A.length;z+=1){y.push(A[z].listener)}return y};l.getListenersAsObject=function e(y){var A=this.getListeners(y);var z;if(A instanceof Array){z={};z[y]=A}return z||A};l.addListener=function f(y,B){var A=this.getListenersAsObject(y);var C=typeof B==="object";var z;for(z in A){if(A.hasOwnProperty(z)&&h(A[z],B)===-1){A[z].push(C?B:{listener:B,once:false})}}return this};l.on=j("addListener");l.addOnceListener=function a(y,z){return this.addListener(y,{listener:z,once:true})};l.once=j("addOnceListener");l.defineEvent=function p(y){this.getListeners(y);return this};l.defineEvents=function q(y){for(var z=0;z<y.length;z+=1){this.defineEvent(y[z])}return this};l.removeListener=function b(y,C){var B=this.getListenersAsObject(y);var z;var A;for(A in B){if(B.hasOwnProperty(A)){z=h(B[A],C);if(z!==-1){B[A].splice(z,1)}}}return this};l.off=j("removeListener");l.addListeners=function m(y,z){return this.manipulateListeners(false,y,z)};l.removeListeners=function s(y,z){return this.manipulateListeners(true,y,z)};l.manipulateListeners=function g(z,A,C){var B;var D;var E=z?this.removeListener:this.addListener;var y=z?this.removeListeners:this.addListeners;if(typeof A==="object"&&!(A instanceof RegExp)){for(B in A){if(A.hasOwnProperty(B)&&(D=A[B])){if(typeof D==="function"){E.call(this,B,D)}else{y.call(this,B,D)}}}}else{B=C.length;while(B--){E.call(this,A,C[B])}}return this};l.removeEvent=function o(y){var B=typeof y;var A=this._getEvents();var z;if(B==="string"){delete A[y]}else{if(B==="object"){for(z in A){if(A.hasOwnProperty(z)&&y.test(z)){delete A[z]}}}else{delete this._events}}return this};l.removeAllListeners=j("removeEvent");l.emitEvent=function u(y,A){var D=this.getListenersAsObject(y);var E;var C;var B;var z;for(B in D){if(D.hasOwnProperty(B)){C=D[B].length;while(C--){E=D[B][C];if(E.once===true){this.removeListener(y,E.listener)}z=E.listener.apply(this,A||[]);if(z===this._getOnceReturnValue()){this.removeListener(y,E.listener)}}}}return this};l.trigger=j("emitEvent");l.emit=function k(y){var z=Array.prototype.slice.call(arguments,1);return this.emitEvent(y,z)};l.setOnceReturnValue=function i(y){this._onceReturnValue=y;return this};l._getOnceReturnValue=function n(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};l._getEvents=function d(){return this._events||(this._events={})};c.noConflict=function w(){v.EventEmitter=x;return c};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return c})}else{if(typeof module==="object"&&module.exports){module.exports=c}else{this.EventEmitter=c}}}.call(this));
(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g}if(b.addEventListener){f=function(i,h,g){i.addEventListener(h,g,false)}}else{if(b.attachEvent){f=function(i,h,g){i[h+g]=g.handleEvent?function(){var j=a(i);g.handleEvent.call(g,j)}:function(){var j=a(i);g.call(i,j)};i.attachEvent("on"+h,i[h+g])}}}var d=function(){};if(b.removeEventListener){d=function(i,h,g){i.removeEventListener(h,g,false)}}else{if(b.detachEvent){d=function(j,h,g){j.detachEvent("on"+h,j[h+g]);try{delete j[h+g]}catch(i){j[h+g]=undefined}}}}var c={bind:f,unbind:d};if(typeof define==="function"&&define.amd){define("eventie/eventie",c)}else{e.eventie=c}})(this);
(function(b,a){if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return a(b,d,c)})}else{if(typeof exports==="object"){module.exports=a(b,require("eventEmitter"),require("eventie"))}else{b.imagesLoaded=a(b,b.EventEmitter,b.eventie)}}})(this,function factory(i,m,l){var g=i.jQuery;var e=i.console;var c=typeof e!=="undefined";function j(p,o){for(var q in o){p[q]=o[q]}return p}var n=Object.prototype.toString;function h(o){return n.call(o)==="[object Array]"}function d(r){var q=[];if(h(r)){q=r}else{if(typeof r.length==="number"){for(var p=0,o=r.length;p<o;p++){q.push(r[p])}}else{q.push(r)}}return q}function f(q,p,o){if(!(this instanceof f)){return new f(q,p)}if(typeof q==="string"){q=document.querySelectorAll(q)}this.elements=d(q);this.options=j({},this.options);if(typeof p==="function"){o=p}else{j(this.options,p)}if(o){this.on("always",o)}this.getImages();if(g){this.jqDeferred=new g.Deferred()}var r=this;setTimeout(function(){r.check()})}f.prototype=new m();f.prototype.options={};f.prototype.getImages=function(){this.images=[];for(var s=0,o=this.elements.length;s<o;s++){var t=this.elements[s];if(t.nodeName==="IMG"){this.addImage(t)}var p=t.nodeType;if(!p||!(p===1||p===9||p===11)){continue}var v=t.querySelectorAll("img");for(var r=0,u=v.length;r<u;r++){var q=v[r];this.addImage(q)}}};f.prototype.addImage=function(o){var p=new k(o);this.images.push(p)};f.prototype.check=function(){var t=this;var p=0;var r=this.images.length;this.hasAnyBroken=false;if(!r){this.complete();return}function q(v,u){if(t.options.debug&&c){e.log("confirm",v,u)}t.progress(v);p++;if(p===r){t.complete()}return true}for(var o=0;o<r;o++){var s=this.images[o];s.on("confirm",q);s.check()}};f.prototype.progress=function(o){this.hasAnyBroken=this.hasAnyBroken||!o.isLoaded;var p=this;setTimeout(function(){p.emit("progress",p,o);if(p.jqDeferred&&p.jqDeferred.notify){p.jqDeferred.notify(p,o)}})};f.prototype.complete=function(){var o=this.hasAnyBroken?"fail":"done";this.isComplete=true;var p=this;setTimeout(function(){p.emit(o,p);p.emit("always",p);if(p.jqDeferred){var q=p.hasAnyBroken?"reject":"resolve";p.jqDeferred[q](p)}})};if(g){g.fn.imagesLoaded=function(p,q){var o=new f(this,p,q);return o.jqDeferred.promise(g(this))}}function k(o){this.img=o}k.prototype=new m();k.prototype.check=function(){var o=b[this.img.src]||new a(this.img.src);if(o.isConfirmed){this.confirm(o.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var p=this;o.on("confirm",function(q,r){p.confirm(q.isLoaded,r);return true});o.check()};k.prototype.confirm=function(o,p){this.isLoaded=o;this.emit("confirm",this,p)};var b={};function a(o){this.src=o;b[o]=this}a.prototype=new m();a.prototype.check=function(){if(this.isChecked){return}var o=new Image();l.bind(o,"load",this);l.bind(o,"error",this);o.src=this.src;this.isChecked=true};a.prototype.handleEvent=function(o){var p="on"+o.type;if(this[p]){this[p](o)}};a.prototype.onload=function(o){this.confirm(true,"onload");this.unbindProxyEvents(o)};a.prototype.onerror=function(o){this.confirm(false,"onerror");this.unbindProxyEvents(o)};a.prototype.confirm=function(o,p){this.isConfirmed=true;this.isLoaded=o;this.emit("confirm",this,p)};a.prototype.unbindProxyEvents=function(o){l.unbind(o.target,"load",this);l.unbind(o.target,"error",this)};return f});
(function(){var a=[].indexOf||function(e){for(var d=0,c=this.length;d<c;d++){if(d in this&&this[d]===e){return d}}return -1},b=[].slice;(function(c,d){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(e){return d(e,c)})}else{return d(c.jQuery,c)}})(window,function(d,g){var p,n,q,s,j,e,f,k,i,t,h,m,r,o,c,l;p=d(g);k=a.call(g,"ontouchstart")>=0;s={horizontal:{},vertical:{}};j=1;f={};e="waypoints-context-id";h="resize.waypoints";m="scroll.waypoints";r=1;o="waypoints-waypoint-ids";c="waypoint";l="waypoints";n=(function(){function u(v){var w=this;this.$element=v;this.element=v[0];this.didResize=false;this.didScroll=false;this.id="context"+j++;this.oldScroll={x:v.scrollLeft(),y:v.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[e]=this.id;f[this.id]=this;v.bind(m,function(){var x;if(!(w.didScroll||k)){w.didScroll=true;x=function(){w.doScroll();return w.didScroll=false};return g.setTimeout(x,d[l].settings.scrollThrottle)}});v.bind(h,function(){var x;if(!w.didResize){w.didResize=true;x=function(){d[l]("refresh");return w.didResize=false};return g.setTimeout(x,d[l].settings.resizeThrottle)}})}u.prototype.doScroll=function(){var v,w=this;v={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(k&&(!v.vertical.oldScroll||!v.vertical.newScroll)){d[l]("refresh")}d.each(v,function(z,y){var B,A,x;x=[];A=y.newScroll>y.oldScroll;B=A?y.forward:y.backward;d.each(w.waypoints[z],function(E,D){var F,C;if((y.oldScroll<(F=D.offset)&&F<=y.newScroll)){return x.push(D)}else{if((y.newScroll<(C=D.offset)&&C<=y.oldScroll)){return x.push(D)}}});x.sort(function(D,C){return D.offset-C.offset});if(!A){x.reverse()}return d.each(x,function(D,C){if(C.options.continuous||D===x.length-1){return C.trigger([B])}})});return this.oldScroll={x:v.horizontal.newScroll,y:v.vertical.newScroll}};u.prototype.refresh=function(){var x,v,w,y=this;w=d.isWindow(this.element);v=this.$element.offset();this.doScroll();x={horizontal:{contextOffset:w?0:v.left,contextScroll:w?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:w?0:v.top,contextScroll:w?0:this.oldScroll.y,contextDimension:w?d[l]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return d.each(x,function(A,z){return d.each(y.waypoints[A],function(F,C){var E,D,H,G,B;E=C.options.offset;H=C.offset;D=d.isWindow(C.element)?0:C.$element.offset()[z.offsetProp];if(d.isFunction(E)){E=E.apply(C.element)}else{if(typeof E==="string"){E=parseFloat(E);if(C.options.offset.indexOf("%")>-1){E=Math.ceil(z.contextDimension*E/100)}}}C.offset=D-z.contextOffset+z.contextScroll-E;if((C.options.onlyOnScroll&&(H!=null))||!C.enabled){return}if(H!==null&&(H<(G=z.oldScroll)&&G<=C.offset)){return C.trigger([z.backward])}else{if(H!==null&&(H>(B=z.oldScroll)&&B>=C.offset)){return C.trigger([z.forward])}else{if(H===null&&z.oldScroll>=C.offset){return C.trigger([z.forward])}}}})})};u.prototype.checkEmpty=function(){if(d.isEmptyObject(this.waypoints.horizontal)&&d.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([h,m].join(" "));return delete f[this.id]}};return u})();q=(function(){function u(v,x,w){var y,z;if(w.offset==="bottom-in-view"){w.offset=function(){var A;A=d[l]("viewportHeight");if(!d.isWindow(x.element)){A=x.$element.height()}return A-d(this).outerHeight()}}this.$element=v;this.element=v[0];this.axis=w.horizontal?"horizontal":"vertical";this.callback=w.handler;this.context=x;this.enabled=w.enabled;this.id="waypoints"+r++;this.offset=null;this.options=w;x.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;y=(z=this.element[o])!=null?z:[];y.push(this.id);this.element[o]=y}u.prototype.trigger=function(v){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,v)}if(this.options.triggerOnce){return this.destroy()}};u.prototype.disable=function(){return this.enabled=false};u.prototype.enable=function(){this.context.refresh();return this.enabled=true};u.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};u.getWaypointsByElement=function(v){var x,w;w=v[o];if(!w){return[]}x=d.extend({},s.horizontal,s.vertical);return d.map(w,function(y){return x[y]})};return u})();t={init:function(w,u){var v;u=d.extend({},d.fn[c].defaults,u);if((v=u.handler)==null){u.handler=w}this.each(function(){var A,z,y,x;A=d(this);y=(x=u.context)!=null?x:d.fn[c].defaults.context;if(!d.isWindow(y)){y=A.closest(y)}y=d(y);z=f[y[0][e]];if(!z){z=new n(y)}return new q(A,z,u)});d[l]("refresh");return this},disable:function(){return t._invoke.call(this,"disable")},enable:function(){return t._invoke.call(this,"enable")},destroy:function(){return t._invoke.call(this,"destroy")},prev:function(v,u){return t._traverse.call(this,v,u,function(w,x,y){if(x>0){return w.push(y[x-1])}})},next:function(v,u){return t._traverse.call(this,v,u,function(w,x,y){if(x<y.length-1){return w.push(y[x+1])}})},_traverse:function(x,v,w){var u,y;if(x==null){x="vertical"}if(v==null){v=g}y=i.aggregate(v);u=[];this.each(function(){var z;z=d.inArray(this,y[x]);return w(u,z,y[x])});return this.pushStack(u)},_invoke:function(u){this.each(function(){var v;v=q.getWaypointsByElement(this);return d.each(v,function(x,w){w[u]();return true})});return this}};d.fn[c]=function(){var u,v;v=arguments[0],u=2<=arguments.length?b.call(arguments,1):[];if(t[v]){return t[v].apply(this,u)}else{if(d.isFunction(v)){return t.init.apply(this,arguments)}else{if(d.isPlainObject(v)){return t.init.apply(this,[null,v])}else{if(!v){return d.error("jQuery Waypoints needs a callback function or handler option.")}else{return d.error("The "+v+" method does not exist in jQuery Waypoints.")}}}}};d.fn[c].defaults={context:g,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};i={refresh:function(){return d.each(f,function(v,u){return u.refresh()})},viewportHeight:function(){var u;return(u=g.innerHeight)!=null?u:p.height()},aggregate:function(x){var v,w,u;v=s;if(x){v=(u=f[d(x)[0][e]])!=null?u.waypoints:void 0}if(!v){return[]}w={horizontal:[],vertical:[]};d.each(w,function(z,y){d.each(v[z],function(B,A){return y.push(A)});y.sort(function(B,A){return B.offset-A.offset});w[z]=d.map(y,function(A){return A.element});return w[z]=d.unique(w[z])});return w},above:function(u){if(u==null){u=g}return i._filter(u,"vertical",function(w,v){return v.offset<=w.oldScroll.y})},below:function(u){if(u==null){u=g}return i._filter(u,"vertical",function(w,v){return v.offset>w.oldScroll.y})},left:function(u){if(u==null){u=g}return i._filter(u,"horizontal",function(w,v){return v.offset<=w.oldScroll.x})},right:function(u){if(u==null){u=g}return i._filter(u,"horizontal",function(w,v){return v.offset>w.oldScroll.x})},enable:function(){return i._invoke("enable")},disable:function(){return i._invoke("disable")},destroy:function(){return i._invoke("destroy")},extendFn:function(u,v){return t[u]=v},_invoke:function(v){var u;u=d.extend({},s.vertical,s.horizontal);return d.each(u,function(x,w){w[v]();return true})},_filter:function(u,w,y){var v,x;v=f[d(u)[0][e]];if(!v){return[]}x=[];d.each(v.waypoints[w],function(A,z){if(y(v,z)){return x.push(z)}});x.sort(function(A,z){return A.offset-z.offset});return d.map(x,function(z){return z.element})}};d[l]=function(){var u,v;v=arguments[0],u=2<=arguments.length?b.call(arguments,1):[];if(i[v]){return i[v].apply(null,u)}else{return i.aggregate.call(null,v)}};d[l].settings={resizeThrottle:100,scrollThrottle:30};return p.on("load.waypoints",function(){return d[l]("refresh")})})}).call(this);var __bind=function(a,b){return function(){return a.apply(b,arguments)}};(function(a){this.FilmRoll=(function(){function b(c){this.options=c!=null?c:{};this.rotateRight=__bind(this.rotateRight,this);this.rotateLeft=__bind(this.rotateLeft,this);this.resize=__bind(this.resize,this);this.moveRight=__bind(this.moveRight,this);this.moveLeft=__bind(this.moveLeft,this);this.configureWidths=__bind(this.configureWidths,this);this.configureSwipe=__bind(this.configureSwipe,this);this.configureScroll=__bind(this.configureScroll,this);this.configureLoad=__bind(this.configureLoad,this);this.configureHover=__bind(this.configureHover,this);this.clearScroll=__bind(this.clearScroll,this);if(this.options.container){this.div=a(this.options.container);if(this.div.length){this.configure()}}}b.prototype.configure=function(){var c,d=this;this.children=this.div.children();this.children.wrapAll('<div class="film_roll_wrapper"></div>');this.children.wrapAll('<div class="film_roll_shuttle"></div>');this.wrapper=this.div.find(".film_roll_wrapper");this.shuttle=this.div.find(".film_roll_shuttle");this.rotation=[];this.shuttle.width(this.options.shuttle_width?parseInt(this.options.shuttle_width,10):10000);if(this.options.start_height){this.wrapper.height(parseInt(this.options.start_height,10))}if(this.options.vertical_center){this.shuttle.addClass("vertical_center")}if(!(this.options.no_css===true||document.film_roll_styles_added)){a("<style type='text/css'>.film_roll_wrapper{display:block;text-align:center;float:none;position:relative;top:auto;right:auto;bottom:auto;left:auto;z-index:auto;width:100%;height:100%;margin:0 !important;padding:0 !important;overflow:hidden;}.film_roll_shuttle{text-align:left;float:none;position:relative;top:0;left:0;right:auto;bottom:auto;height:100%;margin:0 !important;padding:0 !important;z-index:auto;}.film_roll_shuttle.vertical_center:before{content:'';display:inline-block;height:100%;vertical-align:middle;margin-right:-0.25em;}.film_roll_child{position:relative;display:inline-block;*display:inline;vertical-align:middle;zoom:1;}.film_roll_prev,.film_roll_next{position:absolute;top:48%;left:15px;width:40px;height:40px;margin:-20px 0 0 0;padding:0;font-size:60px;font-weight:100;line-height:30px;color:white;text-align:center;background:#222;border:3px solid white;border-radius:23px;opacity:0.5}.film_roll_prev:hover,.film_roll_next:hover{color:white;text-decoration:none;opacity:0.9}.film_roll_next{left:auto;right:15px}.film_roll_pager{text-align:center;}.film_roll_pager a{width:5px;height:5px;border:2px solid #333;border-radius:5px;display:inline-block;margin:0 5px 0 0;transition:all 1s ease}.film_roll_pager a:hover{background:#666}.film_roll_pager a.active{background:#333}.film_roll_pager span{display:none}.film_roll_pager a,a.film_roll_prev,a.film_roll_next{-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}</style>").appendTo("head");document.film_roll_styles_added=true}if(this.options.pager!==false){this.pager=a('<div class="film_roll_pager">');this.div.append(this.pager);this.children.each(function(f,h){var g;g=a("<a href='#' data-id='"+h.id+"'><span>"+(f+1)+"</span></a>");d.pager.append(g);return g.click(function(){d.index=f;d.moveToIndex(d.index,"best",true);return false})})}this.pager_links=this.div.find(".film_roll_pager a");if(this.options.hover==="scroll"){this.options.scroll=false;this.hover_in=function(){clearTimeout(d.hover_timer);return d.hover_timer=setTimeout(function(){d.moveLeft();return d.configureScroll()},300)};this.hover_out=this.clearScroll}else{if(this.options.hover!==false){this.hover_in=function(){clearTimeout(d.hover_timer);return d.hover_timer=setTimeout(function(){return d.clearScroll()},300)};this.hover_out=this.configureScroll}}if(this.options.hover!==false){this.mouse_catcher=a('<div style="position:absolute; top:0; left: 0; height: 100%; width: 100%;" class="film_roll_mouse_catcher"></div>');this.mouse_catcher.appendTo(this.wrapper).mousemove(function(){d.hover_in();return d.mouse_catcher.remove()})}c=null;this.children.each(function(g,h){var f;f=a(h);f.attr("data-film-roll-child-id",g);f.addClass("film_roll_child");return d.rotation.push(h)});if(this.options.prev&&this.options.next){this.prev=a(this.options.prev);this.next=a(this.options.next)}else{this.wrapper.append('<a class="film_roll_prev" href="#">&lsaquo;</a>');this.wrapper.append('<a class="film_roll_next" href="#">&rsaquo;</a>');this.prev=this.div.find(".film_roll_prev");this.next=this.div.find(".film_roll_next")}this.prev.click(function(){return d.moveRight()});this.next.click(function(){return d.moveLeft()});this.index=this.options.start_index||0;this.interval=this.options.interval||4000;this.animation=this.options.animation||this.interval/4;this.easing=this.options.easing||b.default_easing;if(this.options.resize!==false){a(window).resize(function(){return d.resize()})}if(this.options.configure_load){if(typeof this.options.configure_load==="function"){this.options.configure_load.apply(this,arguments)}else{this.configureLoad()}}else{a(window).load(this.configureLoad)}if(this.options.swipe!==false){this.configureSwipe()}this.div.trigger(a.Event("film_roll:dom_ready"));return this};b.prototype.bestDirection=function(d,c){c||(c=a.inArray(d,this.rotation));if(c<(this.children.length/2)){return"right"}else{return"left"}};b.prototype.cancelClick=function(c){if(a(this).hasClass("fr-no-click")){c.preventDefault();return false}return true};b.prototype.childIndex=function(c){return a.inArray(c,this.children)};b.prototype.childWidth=function(d){var c;c=this.childIndex(d);return this.child_widths[c]||a(d).outerWidth(true)};b.prototype.clearScroll=function(){if(this.scrolled!==false){clearInterval(this.timer);this.scrolled=false}return this};b.prototype.configureHover=function(){this.div.hover(this.hover_in,this.hover_out);if(this.options.prev&&this.options.next){this.prev.hover(this.hover_in,this.hover_out);return this.next.hover(this.hover_in,this.hover_out)}};b.prototype.configureLoad=function(){this.configureWidths();this.moveToIndex(this.index,"right",true);if(this.options.hover==="scroll"){this.options.scroll=false;return this.configureHover()}else{if(this.options.scroll!==false){this.configureScroll();if(this.options.hover!==false){return this.configureHover()}}}};b.prototype.configureScroll=function(){var c=this;if(this.scrolled!==true){this.timer=setInterval(function(){return c.moveLeft()},this.interval);this.scrolled=true}return this};b.prototype.configureSwipe=function(){var c=this;if(typeof a.fn.swipe!=="undefined"){this.div.swipe({swipeStatus:function(g,f,h,i){var e,d;if(h==="up"||h==="down"){return false}if(f==="start"){d=c.wrapper.width();if(d>=c.real_width||c.children.length===1){return false}c.was_scrolled=c.scrolled;if(c.scrolled){c.clearScroll()}c.active_half=c.child_widths[c.index]/5;e=a.inArray(c.children[c.index],c.rotation);c.offscreen_left=parseInt(c.shuttle.css("left"),10);c.offscreen_right=c.marginRight(e)-(d-c.child_widths[c.index])/2}else{if(f==="move"){if(h==="left"){if(i>c.active_half){a(c.children[c.index]).removeClass("active");c.index=(c.index+1)%c.children.length;a(c.children[c.index]).addClass("active");c.active_half+=c.child_widths[c.index]}if(i>c.offscreen_right){c.offscreen_left=c.rotateLeft()+i;c.offscreen_right+=c.childWidth(c.rotation[c.rotation.length-1])}c.shuttle.css("left",c.offscreen_left-i)}else{if(i>c.active_half){a(c.children[c.index]).removeClass("active");c.index-=1;if(c.index<0){c.index=c.children.length-1}a(c.children[c.index]).addClass("active");c.active_half+=c.child_widths[c.index]}if(i+c.offscreen_left>0){c.offscreen_left=c.rotateRight()-i}c.shuttle.css("left",c.offscreen_left+i)}}else{if(f==="end"){c.moveToIndex(c.index,h)}else{if(f==="cancel"){c.moveToIndex(c.index,(h==="right"?"left":"right"))}}if(c.was_scrolled){c.configureScroll()}}}return true},excludedElements:"label, button, input, select, textarea, .noSwipe",allowPageScroll:"vertical"});return this.div.find("a").on("click",this.cancelClick)}};b.prototype.configureWidths=function(){var c,d=this;this.width=c=0;this.wrapper.css({height:"","min-height":0});this.shuttle.width("").removeClass("film_roll_shuttle").addClass("film_roll_resizing");this.children.width("");this.div.trigger(a.Event("film_roll:resizing"));this.child_widths=[];if(this.options.height&&this.options.height.toString().match(/^\+/)){this.options.height_padding=parseInt(this.options.height,10);this.options.height=null}else{this.options.height_padding=0}this.children.each(function(h,k){var g,j,f;g=a(k);g.width(g.outerWidth(true));f=g.outerWidth(true);d.child_widths.push(f);d.width+=f;if(!d.options.height){j=g.outerHeight(true);if(j>c){c=j}}return k});if(this.options.height){this.wrapper.height(this.options.height)}else{this.wrapper.height("");this.wrapper.css("min-height",c+this.options.height_padding)}this.real_width=this.width;this.shuttle.width(this.real_width*2).removeClass("film_roll_resizing").addClass("film_roll_shuttle");return this};b.prototype.rotationIndex=function(c){return a.inArray(c,this.rotation)};b.prototype.marginLeft=function(d){var j,e,h,g,c,f;h=0;f=this.rotation;for(e=g=0,c=f.length;g<c;e=++g){j=f[e];if(e<d&&e>=0){h+=this.childWidth(j)}}return h};b.prototype.marginRight=function(d){var k,e,h,j,g,c,f;j=this.rotation.length-1;h=0;f=this.rotation;for(e=g=0,c=f.length;g<c;e=++g){k=f[e];if(e>d&&e<=j){h+=this.childWidth(k)}}return h};b.prototype.moveLeft=function(){this.index=(this.index+1)%this.children.length;this.moveToIndex(this.index,"left",true);return false};b.prototype.moveRight=function(){this.index-=1;if(this.index<0){this.index=this.children.length-1}this.moveToIndex(this.index,"right",true);return false};b.prototype.moveToChild=function(c){var d;d=this.childIndex(a(c)[0]);if(d>-1){return this.moveToIndex(d)}};b.prototype.moveToIndex=function(j,l,d){var f,m,g,e,c,i,k,h=this;if(d==null){d=true}this.index=j;c=this.scrolled;this.clearScroll();f=this.children[j];e=a.inArray(f,this.rotation);if(!l||l==="best"){l=this.bestDirection(f,e)}this.children.removeClass("active");a(f).addClass("active").trigger(a.Event("film_roll:activate"));this.pager_links.removeClass("active");a(this.pager_links[j]).addClass("active");k=this.wrapper.width();if(k<this.real_width&&this.children.length>1){i=(k-this.child_widths[j])/2;if(l==="right"){while(e===0||this.marginLeft(e)<i){this.rotateRight();e=a.inArray(f,this.rotation)}}else{while(e===this.children.length-1||this.marginRight(e)<i){this.rotateLeft();e=a.inArray(f,this.rotation)}}g=-1*(this.marginLeft(e)-i);if(d){m="moving_"+l;this.shuttle.addClass(m);this.div.trigger(a.Event("film_roll:moving"));this.shuttle.stop().animate({left:g},this.animation,this.easing,function(){h.shuttle.removeClass(m);return h.div.trigger(a.Event("film_roll:moved"))})}else{this.shuttle.css("left",g);this.div.trigger(a.Event("film_roll:moved"))}}else{this.shuttle.css("left",(k-this.width)/2)}if(c){this.configureScroll()}return this};b.prototype.resize=function(){var c=this;clearTimeout(this.resize_timer);this.resize_timer=setTimeout(function(){var d;d=c.scrolled;c.clearScroll();if(d){c.configureScroll()}c.configureWidths();c.moveToIndex(c.index,"best");return c.div.trigger(a.Event("film_roll:resized"))},200);return this};b.prototype.rotateLeft=function(){var f,e,c,d;f=this.shuttle.css("left");d=f?parseInt(f,10):0;e=this.rotation.shift();c=d+this.childWidth(e);this.rotation.push(e);this.shuttle.css("left",c);this.shuttle.append(this.shuttle.children().first().detach());return c};b.prototype.rotateRight=function(){var f,c,d,e;f=this.shuttle.css("left");e=f?parseInt(f,10):0;c=this.rotation.pop();d=e-this.childWidth(c);this.rotation.unshift(c);this.shuttle.css("left",d);this.shuttle.prepend(this.shuttle.children().last().detach());return d};return b})();return this.FilmRoll.default_easing="swing"})(jQuery);
(function(a){a.fn.fitText=function(d,b){var e=d||1,c=a.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},b);return this.each(function(){var f=a(this);var g=function(){f.css("font-size",Math.max(Math.min(f.width()/(e*10),parseFloat(c.maxFontSize)),parseFloat(c.minFontSize)))};g();a(window).on("resize.fittext orientationchange.fittext",g)})}})(jQuery);function findstyle_for_crossbrowser(a,c){var b;for(b in c){if(typeof a[c[b]]!="undefined"){return c[b]}}a[c[b]]="";return c[b]}(function(c){if(c.cssHooks){c.cssHooks.rotate={get:function(f,e,d){return c(f).rotate()},set:function(d,e){c(d).rotate(e);return e}};c.cssHooks.scale={get:function(f,e,d){return c(f).scale()},set:function(d,e){c(d).scale(e);return e}};c.cssHooks.transform={get:function(f,e,d){name=findstyle_for_crossbrowser(f.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);return f.style[name]},set:function(d,e){name=findstyle_for_crossbrowser(d.style,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);d.style[name]=e;return e}}}else{var a=c.style;var b=c.curCSS;jQuery.extend({style:function(e,d,f){switch(d){case"rotate":c(e).rotate(f);return f;case"scale":c(e).scale(f);return f;case"transform":d=findstyle_for_crossbrowser(e.style||e,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);break}return a.apply(this,[e,d,f])},curCSS:function(e,d,f){switch(d){case"rotate":return c(e).rotate();case"scale":return c(e).scale();case"transform":d=findstyle_for_crossbrowser(e.style||e,["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);break}return b.apply(this,[e,d,f])}})}jQuery.fn.rotate=function(e){if(typeof e=="undefined"){if(getBrowser()=="opera"){var d=this.css("transform").match(/rotate\((.*?)\)/);return(d&&d[1])?Math.round(parseFloat(d[1])*180/Math.PI):0}else{var d=this.css("transform").match(/rotate\((.*?)\)/);return(d&&d[1])?parseInt(d[1]):0}}this.css("transform",this.css("transform").replace(/none|rotate\(.*?\)/,"")+"rotate("+parseInt(e)+"deg)");return this};jQuery.fn.scale=function(e){if(typeof e=="undefined"){var d=this.css("transform").match(/scale\((.*?)\)/);return(d&&d[1])?parseFloat(d[1]):1}this.css("transform",this.css("transform").replace(/none|scale\(.*?\)/,"")+"scale("+parseFloat(e)+")");return this};jQuery.fx.step.rotate=function(d){if(d.state==0){d.start=c(d.elem).rotate();d.now=d.start}c(d.elem).rotate(d.now)};jQuery.fx.step.scale=function(d){if(d.state==0){d.start=c(d.elem).scale();d.now=d.start}c(d.elem).scale(d.now)}})(jQuery);if(getBrowser()=="ie7"||getBrowser()=="ie8"||getBrowser()=="ie9"){function GetAbsoluteXY(b){var c=b;var a=c.offsetLeft;var d=c.offsetTop;while(c.offsetParent){c=c.offsetParent;if(c!=document.body&&c.currentStyle.position!="static"){break}if(c!=document.body&&c!=document.documentElement){a-=c.scrollLeft;d-=c.scrollTop}a+=c.offsetLeft;d+=c.offsetTop}return{x:a,y:d}}function StaticToAbsolute(a){if(a.currentStyle.position!="static"){return}var c=document.createElement("div");c.style.left=a.style.left;c.style.left=a.style.left;c.style.width=a.style.width;c.style.height=a.style.height;a.parentNode.appendChild(c);var b=GetAbsoluteXY(a);a.style.position="absolute";a.style.left=b.x+"px";a.style.top=b.y+"px"}function IETransform(a,n){var p,c,b;var z=1;var y=1;var e=1;var d=1;if(typeof a.style.msTransform!="undefined"){return true}StaticToAbsolute(a);p=n.match(/rotate\((.*?)\)/);var t=(p&&p[1])?parseInt(p[1]):0;t=t%360;if(t<0){t=360+t}var o=t*Math.PI/180;var j=Math.cos(o);var s=Math.sin(o);z*=j;y*=-s;e*=s;d*=j;p=n.match(/skewX\((.*?)\)/);var i=(p&&p[1])?parseFloat(p[1]):0;p=n.match(/skewY\((.*?)\)/);var g=(p&&p[1])?parseFloat(p[1]):0;p=n.match(/skew\((.*?)(?:,(.*?))?\)/);if(p){i=(p[1])?parseFloat(p[1]):0;g=(p[2])?parseFloat(p[2]):0}i=i%360;if(i<0){i=360+i}g=g%360;if(g<0){g=360+g}y=y+Math.tan(i*Math.PI/180);e=e+Math.tan(g*Math.PI/180);p=n.match(/scaleX\((.*?)\)/);c=(p&&p[1])?parseFloat(p[1]):undefined;p=n.match(/scaleY\((.*?)\)/);b=(p&&p[1])?parseFloat(p[1]):undefined;p=n.match(/scale\((.*?)(?:,(.*?))?\)/);var x=(p&&p[1])?parseFloat(p[1]):(typeof c!="undefined"?c:1);var v=(p&&p[2])?parseFloat(p[2]):(typeof b!="undefined"?b:x);z*=x;y*=x;e*=v;d*=v;a.style.filter=(a.style.filter||"").replace(/progid:DXImageTransform\.Microsoft\.Matrix\([^)]*\)/,"")+("progid:DXImageTransform.Microsoft.Matrix(M11="+z+",M12="+y+",M21="+e+",M22="+d+",FilterType='bilinear',sizingMethod='auto expand')");var l=parseInt(a.offsetWidth);var u=parseInt(a.offsetHeight);ow=parseInt(a.style.width||a.width||0);oh=parseInt(a.style.height||a.height||0);var o=t*Math.PI/180;var f=Math.abs(Math.cos(o));var q=Math.abs(Math.sin(o));var m=(ow-(ow*f+oh*q))/2;var k=(oh-(ow*q+oh*f))/2;m=m-ow/2*Math.tan(i*Math.PI/180);k=k-oh/2*Math.tan(g*Math.PI/180);m=m-(((ow*x)-ow)/2);k=k-(((oh*v)-oh)/2);a.style.marginLeft=Math.floor(m)+"px";a.style.marginTop=Math.floor(k)+"px";return(true)}if($.cssHooks){var jquery_iebug_fix_orignal_set=$.cssHooks.transform.set;$.cssHooks.transform.set=function(a,b){jquery_iebug_fix_orignal_set.apply(this,[a,b]);IETransform(a,b);return b}}else{var jquery_iebug_fix_orignal_style=$.style;jQuery.extend({style:function(c,a,d){var b=jquery_iebug_fix_orignal_style.apply(this,[c,a,d]);switch(a){case"transform":IETransform(c,d);break}return b}})}}(function(a){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}}(function(f){var p="left",o="right",e="up",x="down",c="in",z="out",m="none",s="auto",l="swipe",t="pinch",A="tap",j="doubletap",b="longtap",y="hold",D="horizontal",u="vertical",i="all",r=10,g="start",k="move",h="end",q="cancel",a="ontouchstart" in window,v=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,d=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,B="TouchSwipe";var n={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};f.fn.swipe=function(G){var F=f(this),E=F.data(B);if(E&&typeof G==="string"){if(E[G]){return E[G].apply(this,Array.prototype.slice.call(arguments,1))}else{f.error("Method "+G+" does not exist on jQuery.swipe")}}else{if(!E&&(typeof G==="object"||!G)){return w.apply(this,arguments)}}return F};f.fn.swipe.defaults=n;f.fn.swipe.phases={PHASE_START:g,PHASE_MOVE:k,PHASE_END:h,PHASE_CANCEL:q};f.fn.swipe.directions={LEFT:p,RIGHT:o,UP:e,DOWN:x,IN:c,OUT:z};f.fn.swipe.pageScroll={NONE:m,HORIZONTAL:D,VERTICAL:u,AUTO:s};f.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:i};function w(E){if(E&&(E.allowPageScroll===undefined&&(E.swipe!==undefined||E.swipeStatus!==undefined))){E.allowPageScroll=m}if(E.click!==undefined&&E.tap===undefined){E.tap=E.click}if(!E){E={}}E=f.extend({},f.fn.swipe.defaults,E);return this.each(function(){var G=f(this);var F=G.data(B);if(!F){F=new C(this,E);G.data(B,F)}})}function C(a4,av){var az=(a||d||!av.fallbackToMouseEvents),J=az?(d?(v?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",ay=az?(d?(v?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",U=az?(d?(v?"MSPointerUp":"pointerup"):"touchend"):"mouseup",S=az?null:"mouseleave",aD=(d?(v?"MSPointerCancel":"pointercancel"):"touchcancel");var ag=0,aP=null,ab=0,a1=0,aZ=0,G=1,aq=0,aJ=0,M=null;var aR=f(a4);var Z="start";var W=0;var aQ=null;var T=0,a2=0,a5=0,ad=0,N=0;var aW=null,af=null;try{aR.bind(J,aN);aR.bind(aD,a9)}catch(ak){f.error("events not supported "+J+","+aD+" on jQuery.swipe")}this.enable=function(){aR.bind(J,aN);aR.bind(aD,a9);return aR};this.disable=function(){aK();return aR};this.destroy=function(){aK();aR.data(B,null);return aR};this.option=function(bc,bb){if(av[bc]!==undefined){if(bb===undefined){return av[bc]}else{av[bc]=bb}}else{f.error("Option "+bc+" does not exist on jQuery.swipe.options")}return null};function aN(bd){if(aB()){return}if(f(bd.target).closest(av.excludedElements,aR).length>0){return}var be=bd.originalEvent?bd.originalEvent:bd;var bc,bb=a?be.touches[0]:be;Z=g;if(a){W=be.touches.length}else{bd.preventDefault()}ag=0;aP=null;aJ=null;ab=0;a1=0;aZ=0;G=1;aq=0;aQ=aj();M=aa();R();if(!a||(W===av.fingers||av.fingers===i)||aX()){ai(0,bb);T=at();if(W==2){ai(1,be.touches[1]);a1=aZ=au(aQ[0].start,aQ[1].start)}if(av.swipeStatus||av.pinchStatus){bc=O(be,Z)}}else{bc=false}if(bc===false){Z=q;O(be,Z);return bc}else{if(av.hold){af=setTimeout(f.proxy(function(){aR.trigger("hold",[be.target]);if(av.hold){bc=av.hold.call(aR,be,be.target)}},this),av.longTapThreshold)}ao(true)}return null}function a3(be){var bh=be.originalEvent?be.originalEvent:be;if(Z===h||Z===q||am()){return}var bd,bc=a?bh.touches[0]:bh;var bf=aH(bc);a2=at();if(a){W=bh.touches.length}if(av.hold){clearTimeout(af)}Z=k;if(W==2){if(a1==0){ai(1,bh.touches[1]);a1=aZ=au(aQ[0].start,aQ[1].start)}else{aH(bh.touches[1]);aZ=au(aQ[0].end,aQ[1].end);aJ=ar(aQ[0].end,aQ[1].end)}G=a7(a1,aZ);aq=Math.abs(a1-aZ)}if((W===av.fingers||av.fingers===i)||!a||aX()){aP=aL(bf.start,bf.end);al(be,aP);ag=aS(bf.start,bf.end);ab=aM();aI(aP,ag);if(av.swipeStatus||av.pinchStatus){bd=O(bh,Z)}if(!av.triggerOnTouchEnd||av.triggerOnTouchLeave){var bb=true;if(av.triggerOnTouchLeave){var bg=aY(this);bb=E(bf.end,bg)}if(!av.triggerOnTouchEnd&&bb){Z=aC(k)}else{if(av.triggerOnTouchLeave&&!bb){Z=aC(h)}}if(Z==q||Z==h){O(bh,Z)}}}else{Z=q;O(bh,Z)}if(bd===false){Z=q;O(bh,Z)}}function L(bb){var bc=bb.originalEvent;if(a){if(bc.touches.length>0){F();return true}}if(am()){W=ad}a2=at();ab=aM();if(ba()||!an()){Z=q;O(bc,Z)}else{if(av.triggerOnTouchEnd||(av.triggerOnTouchEnd==false&&Z===k)){bb.preventDefault();Z=h;O(bc,Z)}else{if(!av.triggerOnTouchEnd&&a6()){Z=h;aF(bc,Z,A)}else{if(Z===k){Z=q;O(bc,Z)}}}}ao(false);return null}function a9(){W=0;a2=0;T=0;a1=0;aZ=0;G=1;R();ao(false)}function K(bb){var bc=bb.originalEvent;if(av.triggerOnTouchLeave){Z=aC(h);O(bc,Z)}}function aK(){aR.unbind(J,aN);aR.unbind(aD,a9);aR.unbind(ay,a3);aR.unbind(U,L);if(S){aR.unbind(S,K)}ao(false)}function aC(bf){var be=bf;var bd=aA();var bc=an();var bb=ba();if(!bd||bb){be=q}else{if(bc&&bf==k&&(!av.triggerOnTouchEnd||av.triggerOnTouchLeave)){be=h}else{if(!bc&&bf==h&&av.triggerOnTouchLeave){be=q}}}return be}function O(bd,bb){var bc=undefined;if(I()||V()){bc=aF(bd,bb,l)}else{if((P()||aX())&&bc!==false){bc=aF(bd,bb,t)}}if(aG()&&bc!==false){bc=aF(bd,bb,j)}else{if(ap()&&bc!==false){bc=aF(bd,bb,b)}else{if(ah()&&bc!==false){bc=aF(bd,bb,A)}}}if(bb===q){a9(bd)}if(bb===h){if(a){if(bd.touches.length==0){a9(bd)}}else{a9(bd)}}return bc}function aF(be,bb,bd){var bc=undefined;if(bd==l){aR.trigger("swipeStatus",[bb,aP||null,ag||0,ab||0,W,aQ]);if(av.swipeStatus){bc=av.swipeStatus.call(aR,be,bb,aP||null,ag||0,ab||0,W,aQ);if(bc===false){return false}}if(bb==h&&aV()){aR.trigger("swipe",[aP,ag,ab,W,aQ]);if(av.swipe){bc=av.swipe.call(aR,be,aP,ag,ab,W,aQ);if(bc===false){return false}}switch(aP){case p:aR.trigger("swipeLeft",[aP,ag,ab,W,aQ]);if(av.swipeLeft){bc=av.swipeLeft.call(aR,be,aP,ag,ab,W,aQ)}break;case o:aR.trigger("swipeRight",[aP,ag,ab,W,aQ]);if(av.swipeRight){bc=av.swipeRight.call(aR,be,aP,ag,ab,W,aQ)}break;case e:aR.trigger("swipeUp",[aP,ag,ab,W,aQ]);if(av.swipeUp){bc=av.swipeUp.call(aR,be,aP,ag,ab,W,aQ)}break;case x:aR.trigger("swipeDown",[aP,ag,ab,W,aQ]);if(av.swipeDown){bc=av.swipeDown.call(aR,be,aP,ag,ab,W,aQ)}break}}}if(bd==t){aR.trigger("pinchStatus",[bb,aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchStatus){bc=av.pinchStatus.call(aR,be,bb,aJ||null,aq||0,ab||0,W,G,aQ);if(bc===false){return false}}if(bb==h&&a8()){switch(aJ){case c:aR.trigger("pinchIn",[aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchIn){bc=av.pinchIn.call(aR,be,aJ||null,aq||0,ab||0,W,G,aQ)}break;case z:aR.trigger("pinchOut",[aJ||null,aq||0,ab||0,W,G,aQ]);if(av.pinchOut){bc=av.pinchOut.call(aR,be,aJ||null,aq||0,ab||0,W,G,aQ)}break}}}if(bd==A){if(bb===q||bb===h){clearTimeout(aW);clearTimeout(af);if(Y()&&!H()){N=at();aW=setTimeout(f.proxy(function(){N=null;aR.trigger("tap",[be.target]);if(av.tap){bc=av.tap.call(aR,be,be.target)}},this),av.doubleTapThreshold)}else{N=null;aR.trigger("tap",[be.target]);if(av.tap){bc=av.tap.call(aR,be,be.target)}}}}else{if(bd==j){if(bb===q||bb===h){clearTimeout(aW);N=null;aR.trigger("doubletap",[be.target]);if(av.doubleTap){bc=av.doubleTap.call(aR,be,be.target)}}}else{if(bd==b){if(bb===q||bb===h){clearTimeout(aW);N=null;aR.trigger("longtap",[be.target]);if(av.longTap){bc=av.longTap.call(aR,be,be.target)}}}}}return bc}function an(){var bb=true;if(av.threshold!==null){bb=ag>=av.threshold}return bb}function ba(){var bb=false;if(av.cancelThreshold!==null&&aP!==null){bb=(aT(aP)-ag)>=av.cancelThreshold}return bb}function ae(){if(av.pinchThreshold!==null){return aq>=av.pinchThreshold}return true}function aA(){var bb;if(av.maxTimeThreshold){if(ab>=av.maxTimeThreshold){bb=false}else{bb=true}}else{bb=true}return bb}function al(bb,bc){if(av.allowPageScroll===m||aX()){bb.preventDefault()}else{var bd=av.allowPageScroll===s;switch(bc){case p:if((av.swipeLeft&&bd)||(!bd&&av.allowPageScroll!=D)){bb.preventDefault()}break;case o:if((av.swipeRight&&bd)||(!bd&&av.allowPageScroll!=D)){bb.preventDefault()}break;case e:if((av.swipeUp&&bd)||(!bd&&av.allowPageScroll!=u)){bb.preventDefault()}break;case x:if((av.swipeDown&&bd)||(!bd&&av.allowPageScroll!=u)){bb.preventDefault()}break}}}function a8(){var bc=aO();var bb=X();var bd=ae();return bc&&bb&&bd}function aX(){return !!(av.pinchStatus||av.pinchIn||av.pinchOut)}function P(){return !!(a8()&&aX())}function aV(){var be=aA();var bg=an();var bd=aO();var bb=X();var bc=ba();var bf=!bc&&bb&&bd&&bg&&be;return bf}function V(){return !!(av.swipe||av.swipeStatus||av.swipeLeft||av.swipeRight||av.swipeUp||av.swipeDown)}function I(){return !!(aV()&&V())}function aO(){return((W===av.fingers||av.fingers===i)||!a)}function X(){return aQ[0].end.x!==0}function a6(){return !!(av.tap)}function Y(){return !!(av.doubleTap)}function aU(){return !!(av.longTap)}function Q(){if(N==null){return false}var bb=at();return(Y()&&((bb-N)<=av.doubleTapThreshold))}function H(){return Q()}function ax(){return((W===1||!a)&&(isNaN(ag)||ag<av.threshold))}function a0(){return((ab>av.longTapThreshold)&&(ag<r))}function ah(){return !!(ax()&&a6())}function aG(){return !!(Q()&&Y())}function ap(){return !!(a0()&&aU())}function F(){a5=at();ad=event.touches.length+1}function R(){a5=0;ad=0}function am(){var bb=false;if(a5){var bc=at()-a5;if(bc<=av.fingerReleaseThreshold){bb=true}}return bb}function aB(){return !!(aR.data(B+"_intouch")===true)}function ao(bb){if(bb===true){aR.bind(ay,a3);aR.bind(U,L);if(S){aR.bind(S,K)}}else{aR.unbind(ay,a3,false);aR.unbind(U,L,false);if(S){aR.unbind(S,K,false)}}aR.data(B+"_intouch",bb===true)}function ai(bc,bb){var bd=bb.identifier!==undefined?bb.identifier:0;aQ[bc].identifier=bd;aQ[bc].start.x=aQ[bc].end.x=bb.pageX||bb.clientX;aQ[bc].start.y=aQ[bc].end.y=bb.pageY||bb.clientY;return aQ[bc]}function aH(bb){var bd=bb.identifier!==undefined?bb.identifier:0;var bc=ac(bd);bc.end.x=bb.pageX||bb.clientX;bc.end.y=bb.pageY||bb.clientY;return bc}function ac(bc){for(var bb=0;bb<aQ.length;bb++){if(aQ[bb].identifier==bc){return aQ[bb]}}}function aj(){var bb=[];for(var bc=0;bc<=5;bc++){bb.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return bb}function aI(bb,bc){bc=Math.max(bc,aT(bb));M[bb].distance=bc}function aT(bb){if(M[bb]){return M[bb].distance}return undefined}function aa(){var bb={};bb[p]=aw(p);bb[o]=aw(o);bb[e]=aw(e);bb[x]=aw(x);return bb}function aw(bb){return{direction:bb,distance:0}}function aM(){return a2-T}function au(be,bd){var bc=Math.abs(be.x-bd.x);var bb=Math.abs(be.y-bd.y);return Math.round(Math.sqrt(bc*bc+bb*bb))}function a7(bb,bc){var bd=(bc/bb)*1;return bd.toFixed(2)}function ar(){if(G<1){return z}else{return c}}function aS(bc,bb){return Math.round(Math.sqrt(Math.pow(bb.x-bc.x,2)+Math.pow(bb.y-bc.y,2)))}function aE(be,bc){var bb=be.x-bc.x;var bg=bc.y-be.y;var bd=Math.atan2(bg,bb);var bf=Math.round(bd*180/Math.PI);if(bf<0){bf=360-Math.abs(bf)}return bf}function aL(bc,bb){var bd=aE(bc,bb);if((bd<=45)&&(bd>=0)){return p}else{if((bd<=360)&&(bd>=315)){return p}else{if((bd>=135)&&(bd<=225)){return o}else{if((bd>45)&&(bd<135)){return x}else{return e}}}}}function at(){var bb=new Date();return bb.getTime()}function aY(bb){bb=f(bb);var bd=bb.offset();var bc={left:bd.left,right:bd.left+bb.outerWidth(),top:bd.top,bottom:bd.top+bb.outerHeight()};return bc}function E(bb,bc){return(bb.x>bc.left&&bb.x<bc.right&&bb.y>bc.top&&bb.y<bc.bottom)}}}));(function(V){var E=V.fn.domManip,S="_tmplitem",F=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,U={},Q={},R,G={key:0,data:{}},O=0,T=0,K=[];function P(f,h,b,a){var j={data:a||(h?h.data:{}),_wrap:h?h._wrap:null,tmpl:null,parent:h||null,nodes:[],calls:B,nest:z,wrap:y,html:A,update:C};f&&V.extend(j,f,{nodes:[],parent:h});if(b){j.tmpl=b;j._ctnt=j._ctnt||j.tmpl(V,j);j.key=++O;(K.length?Q:U)[O]=j}return j}V.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){V.fn[a]=function(r){var q=[],o=V(r),e,p,c,d,f=this.length===1&&this[0].parentNode;R=U||{};if(f&&f.nodeType===11&&f.childNodes.length===1&&o.length===1){o[b](this[0]);q=this}else{for(p=0,c=o.length;p<c;p++){T=p;e=(p>0?this.clone(true):this).get();V.fn[b].apply(V(o[p]),e);q=q.concat(e)}T=0;q=this.pushStack(q,a,o.selector)}d=R;R=null;V.tmpl.complete(d);return q}});V.fn.extend({tmpl:function(e,f,a){return V.tmpl(this[0],e,f,a)},tmplItem:function(){return V.tmplItem(this[0])},template:function(a){return V.template(a,this[0])},domManip:function(n,a,b){if(n[0]&&n[0].nodeType){var m=V.makeArray(arguments),k=n.length,c=0,e;while(c<k&&!(e=V.data(n[c++],"tmplItem"))){}if(k>1){m[0]=[V.makeArray(n)]}if(e&&T){m[2]=function(d){V.tmpl.afterManip(this,d,b)}}E.apply(this,m)}else{E.apply(this,arguments)}T=0;!R&&V.tmpl.complete(U);return this}});V.extend({tmpl:function(i,f,g,l){var b,a=!l;if(a){l=G;i=V.template[i]||V.template(null,i);Q={}}else{if(!i){i=l.tmpl;U[l.key]=l;l.nodes=[];l.wrapped&&I(l,l.wrapped);return V(N(l,null,l.tmpl(V,l)))}}if(!i){return[]}if(typeof f==="function"){f=f.call(l||{})}g&&g.wrapped&&I(g,g.wrapped);b=V.isArray(f)?V.map(f,function(c){return c?P(g,l,i,c):null}):[P(g,l,i,f)];return a?V(N(l,null,b)):b},tmplItem:function(a){var d;if(a instanceof V){a=a[0]}while(a&&a.nodeType===1&&!(d=V.data(a,"tmplItem"))&&(a=a.parentNode)){}return d||G},template:function(d,a){if(a){if(typeof a==="string"){a=H(a)}else{if(a instanceof V){a=a[0]||{}}}if(a.nodeType){a=V.data(a,"tmpl")||V.data(a,"tmpl",H(a.innerHTML))}return typeof d==="string"?(V.template[d]=a):a}return d?typeof d!=="string"?V.template(null,d):V.template[d]||V.template(null,F.test(d)?d:V(d)):null},encode:function(b){return(""+b).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});V.extend(V.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){U={}},afterManip:function(c,a,h){var g=a.nodeType===11?V.makeArray(a.childNodes):a.nodeType===1?[a]:[];h.call(c,a);J(g);T++}});function N(i,d,h){var a,j=h?V.map(h,function(b){return typeof b==="string"?i.key?b.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+S+'="'+i.key+'" $2'):b:N(b,i,b._ctnt)}):i;if(d){return j}j=j.join("");j.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(b,l,g,k){a=V(g).get();J(a);if(l){a=M(l).concat(a)}if(k){a=a.concat(M(k))}});return a?a:M(j)}function M(d){var a=document.createElement("div");a.innerHTML=d;return V.makeArray(a.childNodes)}function H(a){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+V.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(k,n,o,u,w,v,t){var p=V.tmpl.tag[o],q,s,r;if(!p){throw"Template command not found: "+o}q=p._default||[];if(v&&!/\w$/.test(w)){w+=v;v=""}if(w){w=L(w);t=t?","+L(t)+")":v?")":"";s=v?w.indexOf(".")>-1?w+v:"("+w+").call($item"+t:w;r=v?s:"(typeof("+w+")==='function'?("+w+").call($item):("+w+"))"}else{r=s=q.$1||"null"}u=L(u);return"');"+p[n?"close":"open"].split("$notnull_1").join(w?"typeof("+w+")!=='undefined' && ("+w+")!=null":"true").split("$1a").join(r).split("$1").join(s).split("$2").join(u?u.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(g,h,e,f){f=f?","+f+")":e?")":"";return f?"("+h+").call($item"+f:g}):q.$2||"")+"_.push('"})+"');}return _;")}function I(d,a){d._wrap=N(d,true,V.isArray(a)?a:[F.test(a)?a:V(a).html()]).join("")}function L(b){return b?b.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function D(c){var d=document.createElement("div");d.appendChild(c.cloneNode(true));return d.innerHTML}function J(b){var c="_"+T,g,h,f={},r,a,q;for(r=0,a=b.length;r<a;r++){if((g=b[r]).nodeType!==1){continue}h=g.getElementsByTagName("*");for(q=h.length-1;q>=0;q--){d(h[q])}d(g)}function d(s){var v,t=s,n,u,l;if(l=s.getAttribute(S)){while(t.parentNode&&(t=t.parentNode).nodeType===1&&!(v=t.getAttribute(S))){}if(v!==l){t=t.parentNode?t.nodeType===11?0:t.getAttribute(S)||0:0;if(!(u=U[l])){u=Q[l];u=P(u,U[t]||Q[t],null,true);u.key=++O;U[O]=u}T&&w(l)}s.removeAttribute(S)}else{if(T&&(u=V.data(s,"tmplItem"))){w(u.key);U[u.key]=u;t=V.data(s.parentNode,"tmplItem");t=t?t.key:0}}if(u){n=u;while(n&&n.key!=t){n.nodes.push(s);n=n.parent}delete u._ctnt;delete u._wrap;V.data(s,"tmplItem",u)}function w(e){e=e+c;u=f[e]=f[e]||P(u,U[u.parent.key+c]||u.parent,null,true)}}}function B(f,g,h,e){if(!f){return K.pop()}K.push({_:f,tmpl:g,item:this,data:h,options:e})}function z(e,f,a){return V.tmpl(V.template(e),f,a,this)}function y(a,e){var f=a.options||{};f.wrapped=e;return V.tmpl(V.template(a.tmpl),a.data,f,a.item)}function A(e,f){var a=this._wrap;return V.map(V(V.isArray(a)?a.join(""):a).filter(e||"*"),function(b){return f?b.innerText||b.textContent:b.outerHTML||D(b)})}function C(){var a=this.nodes;V.tmpl(null,null,null,this).insertBefore(a[0]);V(a).remove()}})(jQuery);(function(b,c,d){c.fn.touchwipe=function(f){var e={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};if(f){c.extend(e,f)}this.each(function(){var h;var g;var l=false;function k(){this.removeEventListener("touchmove",i);h=null;l=false}function i(p){if(e.preventDefaultEvents){p.preventDefault()}if(l){var m=p.touches[0].pageX;var q=p.touches[0].pageY;var o=h-m;var n=g-q;if(Math.abs(o)>=e.min_move_x){k();if(o>0){e.wipeLeft()}else{e.wipeRight()}}else{if(Math.abs(n)>=e.min_move_y){k();if(n>0){e.wipeDown()}else{e.wipeUp()}}}}}function j(m){if(m.touches.length==1){h=m.touches[0].pageX;g=m.touches[0].pageY;l=true;this.addEventListener("touchmove",i,false)}}if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",j,false)}});return this};c.elastislide=function(e,f){this.$el=c(f);this._init(e)};c.elastislide.defaults={speed:450,easing:"",imageW:190,margin:3,border:2,minItems:1,current:0,onClick:function(){return false}};c.elastislide.prototype={_init:function(e){this.options=c.extend(true,{},c.elastislide.defaults,e);this.$slider=this.$el.find("ul");this.$items=this.$slider.children("li");this.itemsCount=this.$items.length;this.$esCarousel=this.$slider.parent();this._validateOptions();this._configure();this._addControls();this._initEvents();this.$slider.show();this._slideToCurrent(false)},_validateOptions:function(){if(this.options.speed<0){this.options.speed=450}if(this.options.margin<0){this.options.margin=4}if(this.options.border<0){this.options.border=1}if(this.options.minItems<1||this.options.minItems>this.itemsCount){this.options.minItems=1}if(this.options.current>this.itemsCount-1){this.options.current=0}},_configure:function(){this.current=this.options.current;this.visibleWidth=this.$esCarousel.width();if(this.visibleWidth<this.options.minItems*(this.options.imageW+2*this.options.border)+(this.options.minItems-1)*this.options.margin){this._setDim((this.visibleWidth-(this.options.minItems-1)*this.options.margin)/this.options.minItems);this._setCurrentValues();this.fitCount=this.options.minItems}else{this._setDim();this._setCurrentValues()}this.$slider.css({width:this.sliderW})},_setDim:function(e){this.$items.css({marginRight:this.options.margin,width:(e)?e:this.options.imageW+2*this.options.border}).children("a").css({borderWidth:this.options.border})},_setCurrentValues:function(){this.itemW=this.$items.outerWidth(true);this.sliderW=this.itemW*this.itemsCount;this.visibleWidth=this.$esCarousel.width();this.fitCount=Math.floor(this.visibleWidth/this.itemW)},_addControls:function(){this.$navNext=c('<span class="es-nav-next">Next</span>');this.$navPrev=c('<span class="es-nav-prev">Previous</span>');c('<div class="es-nav"/>').append(this.$navPrev).append(this.$navNext).appendTo(this.$el)},_toggleControls:function(h,g){var f=this;var i=c("#rg-gallery .es-nav-next");var e=c("#rg-gallery .es-nav-prev");if(h&&g){if(g===1){(h==="right")?i.removeClass("disabled").bind("click.elastislide",function(j){f._slide("right")}):e.removeClass("disabled").bind("click.elastislide",function(j){f._slide("left")})}else{(h==="right")?i.addClass("disabled").unbind("click.elastislide"):e.addClass("disabled").unbind("click.elastislide")}}else{if(this.current===this.itemsCount-1||this.fitCount>=this.itemsCount){i.addClass("disabled")}}},_initEvents:function(){var e=this;c(b).bind("resize.elastislide",function(f){e._reload();clearTimeout(e.resetTimeout);e.resetTimeout=setTimeout(function(){e._slideToCurrent()},200)});this.$navNext.bind("click.elastislide",function(f){e._slide("right")});this.$navPrev.bind("click.elastislide",function(f){e._slide("left")});this.$items.bind("click.elastislide",function(f){e.options.onClick(c(this));return false});e.$slider.touchwipe({wipeLeft:function(){e._slide("right")},wipeRight:function(){e._slide("left")}})},reload:function(e){this._reload();if(e){e.call()}},_reload:function(){var e=this;e._setCurrentValues();if(e.visibleWidth<e.options.minItems*(e.options.imageW+2*e.options.border)+(e.options.minItems-1)*e.options.margin){e._setDim((e.visibleWidth-(e.options.minItems-1)*e.options.margin)/e.options.minItems);e._setCurrentValues();e.fitCount=e.options.minItems}else{e._setDim();e._setCurrentValues()}e.$slider.css({width:e.sliderW+10})},_slide:function(f,e,g,m){var h=parseFloat(this.$slider.css("margin-left"));if(e===d){var i=this.fitCount*this.itemW,e;if(i<0){return false}if(f==="right"&&this.sliderW-(Math.abs(h)+i)<this.visibleWidth){i=this.sliderW-(Math.abs(h)+this.visibleWidth)-this.options.margin;this._toggleControls("right",-1);this._toggleControls("left",1)}else{if(f==="left"&&Math.abs(h)-i<0){i=Math.abs(h);this._toggleControls("left",-1);this._toggleControls("right",1)}else{var k;(f==="right")?k=Math.abs(h)+this.options.margin+Math.abs(i):k=Math.abs(h)-this.options.margin-Math.abs(i);if(k>0){this._toggleControls("left",1)}else{this._toggleControls("left",-1)}if(k<this.sliderW-this.visibleWidth){this._toggleControls("right",1)}else{this._toggleControls("right",-1)}}}(f==="right")?e="-="+i:e="+="+i}else{var k=Math.abs(e);if(Math.max(this.sliderW,this.visibleWidth)-k<this.visibleWidth){e=-(Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth);if(e!==0){e+=this.options.margin}this._toggleControls("right",-1);k=Math.abs(e)}if(k>0){this._toggleControls("left",1)}else{this._toggleControls("left",-1)}if(Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth>k+this.options.margin){this._toggleControls("right",1)}else{this._toggleControls("right",-1)}}c.fn.applyStyle=(g===d)?c.fn.animate:c.fn.css;var j={marginLeft:e};var l=this;this.$slider.stop().applyStyle(j,c.extend(true,[],{duration:this.options.speed,easing:this.options.easing,complete:function(){if(m){m.call()}}}))},_slideToCurrent:function(f){var e=this.current*this.itemW;this._slide("",-e,f)},add:function(e,f){this.$items=this.$items.add(e);this.itemsCount=this.$items.length;this._setDim();this._setCurrentValues();this.$slider.css({width:this.sliderW});this._slideToCurrent();if(f){f.call(e)}},setCurrent:function(e,i){this.current=e;var h=Math.abs(parseFloat(this.$slider.css("margin-left"))),f=h+this.visibleWidth,g=Math.abs(this.current*this.itemW);if(g+this.itemW>f||g<h){this._slideToCurrent()}if(i){i.call()}},destroy:function(e){this._destroy(e)},_destroy:function(e){this.$el.unbind(".elastislide").removeData("elastislide");c(b).unbind(".elastislide");if(e){e.call()}}};var a=function(e){if(this.console){console.error(e)}};c.fn.elastislide=function(f){if(typeof f==="string"){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var g=c.data(this,"elastislide");if(!g){a("cannot call methods on elastislide prior to initialization; attempted to call method '"+f+"'");return}if(!c.isFunction(g[f])||f.charAt(0)==="_"){a("no such method '"+f+"' for elastislide instance");return}g[f].apply(g,e)})}else{this.each(function(){var g=c.data(this,"elastislide");if(!g){c.data(this,"elastislide",new c.elastislide(f,this))}})}return this}})(window,jQuery);var rgGallery;$(function(){var b=$("#rg-gallery"),d=b.find("div.es-carousel-wrapper"),c=d.find("ul > li"),a=c.length;rgGallery=(function(){var i=0,g="carousel",f=false,m=function(n){if(b.length<1){return}if(b.find(".rg-image-wrapper").length>0){b.find(".rg-image-wrapper").remove().end().find(".rg-view").remove();d.elastislide("destroy")}c.imagesLoaded(function(){h();k();l(c.eq(i))});if(g==="carousel"){e(n)}},e=function(n){d.show().elastislide({imageW:(n=="sp")?43:75,margin:(n=="sp")?8:10,border:0,onClick:function(o){if(f){return false}f=true;l(o);i=o.index()}});d.elastislide("setCurrent",i)},h=function(){var n=$('<a href="#" class="rg-view-full"></a>'),o=$('<a href="#" class="rg-view-thumbs rg-view-selected"></a>');b.prepend($('<div class="rg-view"/>').append(n).append(o));n.bind("click.rgGallery",function(p){if(g==="carousel"){d.elastislide("destroy")}d.hide();n.addClass("rg-view-selected");o.removeClass("rg-view-selected");g="fullview";return false});o.bind("click.rgGallery",function(p){e();o.addClass("rg-view-selected");n.removeClass("rg-view-selected");g="carousel";return false});if(g==="fullview"){n.trigger("click")}},k=function(){$("#img-wrapper-tmpl").tmpl({itemsCount:a}).prependTo(b);if(a>1){var p=b.find("a.rg-image-nav-prev"),n=b.find("a.rg-image-nav-next"),o=b.find("div.rg-image");p.bind("click.rgGallery",function(q){j("left");return false});n.bind("click.rgGallery",function(q){j("right");return false});o.touchwipe({wipeLeft:function(){j("right")},wipeRight:function(){j("left")},preventDefaultEvents:false});$(document).bind("keyup.rgGallery",function(q){if(q.keyCode==39){j("right")}else{if(q.keyCode==37){j("left")}}})}},j=function(n){if(f){return false}f=true;if(n==="right"){if(i+1>=a){i=0}else{++i}}else{if(n==="left"){if(i-1<0){i=a-1}else{--i}}}l(c.eq(i))},l=function(n){var o=b.find("div.rg-loading").show();c.removeClass("selected");n.addClass("selected");var r=n.find("img"),p=r.data("large"),q=r.data("description");$("<img/>").load(function(){var t=b.find("div.rg-image");var s=new Image();s.src=p;var u=$('<img src="/assets/img/project/rg_blank.png"/>');b.find("div.rg-image").empty().append(u).css("background-image","url("+p+")");if((t.width()<s.width)||(t.height()<s.height)){b.find("div.rg-image").css({"background-size":"contain"})}else{b.find("div.rg-image").css("background-size","auto")}if(q){b.find("div.rg-caption").show().children("p").empty().text(q)}o.hide();if(g==="carousel"){d.elastislide("reload");d.elastislide("setCurrent",i)}f=false}).attr("src",p)};return{init:m}})()});(function(){var a=jQuery;var c=(function(){function d(){this.fadeDuration=500;this.fitImagesInViewport=true;this.resizeDuration=700;this.positionFromTop=50;this.showImageNumberLabel=true;this.alwaysShowNavOnTouchDevices=false;this.wrapAround=false}d.prototype.albumLabel=function(e,f){return"Image "+e+" of "+f};return d})();var b=(function(){function d(e){this.options=e;this.album=[];this.currentImageIndex=void 0;this.init()}d.prototype.init=function(){this.enable();this.build()};d.prototype.enable=function(){var e=this;a("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(f){e.start(a(f.currentTarget));return false})};d.prototype.build=function(){var e=this;a("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-close'></a><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div></div></div></div>").appendTo(a("body"));this.$lightbox=a("#lightbox");this.$overlay=a("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.containerTopPadding=parseInt(this.$container.css("padding-top"),10);this.containerRightPadding=parseInt(this.$container.css("padding-right"),10);this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10);this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10);this.$overlay.hide().on("click",function(){e.end();return false});this.$lightbox.hide().on("click",function(f){if(a(f.target).attr("id")==="lightbox"){e.end()}return false});this.$outerContainer.on("click",function(f){if(a(f.target).attr("id")==="lightbox"){e.end()}return false});this.$lightbox.find(".lb-prev").on("click",function(){if(e.currentImageIndex===0){e.changeImage(e.album.length-1)}else{e.changeImage(e.currentImageIndex-1)}return false});this.$lightbox.find(".lb-next").on("click",function(){if(e.currentImageIndex===e.album.length-1){e.changeImage(0)}else{e.changeImage(e.currentImageIndex+1)}return false});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){e.end();return false})};d.prototype.start=function(k){var q=this;var e=a(window);e.on("resize",a.proxy(this.sizeOverlay,this));a("select, object, embed").css({visibility:"hidden"});this.sizeOverlay();this.album=[];var p=0;function n(i){q.album.push({link:i.attr("href"),title:i.attr("data-title")||i.attr("title")})}var m=k.attr("data-lightbox");var o;if(m){o=a(k.prop("tagName")+'[data-lightbox="'+m+'"]');for(var h=0;h<o.length;h=++h){n(a(o[h]));if(o[h]===k[0]){p=h}}}else{if(k.attr("rel")==="lightbox"){n(k)}else{o=a(k.prop("tagName")+'[rel="'+k.attr("rel")+'"]');for(var g=0;g<o.length;g=++g){n(a(o[g]));if(o[g]===k[0]){p=g}}}}var l=e.scrollTop()+this.options.positionFromTop;var f=e.scrollLeft();this.$lightbox.css({top:l+"px",left:f+"px"}).fadeIn(this.options.fadeDuration);this.changeImage(p)};d.prototype.changeImage=function(h){var f=this;this.disableKeyboardNav();var g=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration);a(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");var e=new Image();e.onload=function(){var m,j,k,o,i,n,l;g.attr("src",f.album[h].link);m=a(e);g.width(e.width);g.height(e.height);if(f.options.fitImagesInViewport){l=a(window).width();n=a(window).height();i=l-f.containerLeftPadding-f.containerRightPadding-20;o=n-f.containerTopPadding-f.containerBottomPadding-120;if((e.width>i)||(e.height>o)){if((e.width/i)>(e.height/o)){k=i;j=parseInt(e.height/(e.width/k),10);g.width(k);g.height(j)}else{j=o;k=parseInt(e.width/(e.height/j),10);g.width(k);g.height(j)}}}f.sizeContainer(g.width(),g.height())};e.src=this.album[h].link;this.currentImageIndex=h};d.prototype.sizeOverlay=function(){this.$overlay.width(a(window).width()).height(a(document).height())};d.prototype.sizeContainer=function(i,e){var h=this;var g=this.$outerContainer.outerWidth();var l=this.$outerContainer.outerHeight();var k=i+this.containerLeftPadding+this.containerRightPadding;var f=e+this.containerTopPadding+this.containerBottomPadding;function j(){h.$lightbox.find(".lb-dataContainer").width(k);h.$lightbox.find(".lb-prevLink").height(f);h.$lightbox.find(".lb-nextLink").height(f);h.showImage()}if(g!==k||l!==f){this.$outerContainer.animate({width:k,height:f},this.options.resizeDuration,"swing",function(){j()})}else{j()}};d.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide();this.$lightbox.find(".lb-image").fadeIn("slow");this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};d.prototype.updateNav=function(){var f=false;try{document.createEvent("TouchEvent");f=(this.options.alwaysShowNavOnTouchDevices)?true:false}catch(g){}this.$lightbox.find(".lb-nav").show();if(this.album.length>1){if(this.options.wrapAround){if(f){this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1")}this.$lightbox.find(".lb-prev, .lb-next").show()}else{if(this.currentImageIndex>0){this.$lightbox.find(".lb-prev").show();if(f){this.$lightbox.find(".lb-prev").css("opacity","1")}}if(this.currentImageIndex<this.album.length-1){this.$lightbox.find(".lb-next").show();if(f){this.$lightbox.find(".lb-next").css("opacity","1")}}}}};d.prototype.updateDetails=function(){var e=this;if(typeof this.album[this.currentImageIndex].title!=="undefined"&&this.album[this.currentImageIndex].title!==""){this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(f){location.href=a(this).attr("href")})}if(this.album.length>1&&this.options.showImageNumberLabel){this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast")}else{this.$lightbox.find(".lb-number").hide()}this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})};d.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var f=new Image();f.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image();e.src=this.album[this.currentImageIndex-1].link}};d.prototype.enableKeyboardNav=function(){a(document).on("keyup.keyboard",a.proxy(this.keyboardAction,this))};d.prototype.disableKeyboardNav=function(){a(document).off(".keyboard")};d.prototype.keyboardAction=function(h){var j=27;var i=37;var f=39;var e=h.keyCode;var g=String.fromCharCode(e).toLowerCase();if(e===j||g.match(/x|o|c/)){this.end()}else{if(g==="p"||e===i){if(this.currentImageIndex!==0){this.changeImage(this.currentImageIndex-1)}else{if(this.options.wrapAround&&this.album.length>1){this.changeImage(this.album.length-1)}}}else{if(g==="n"||e===f){if(this.currentImageIndex!==this.album.length-1){this.changeImage(this.currentImageIndex+1)}else{if(this.options.wrapAround&&this.album.length>1){this.changeImage(0)}}}}}};d.prototype.end=function(){this.disableKeyboardNav();a(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);a("select, object, embed").css({visibility:"visible"})};return d})();a(function(){var d=new c();var e=new b(d)})}).call(this);
;(function(C){var y="Close",H="BeforeClose",v="AfterClose",N="BeforeAppend",f="MarkupParse",k="Open",h="Change",D="mfp",d="."+D,I="mfp-ready",K="mfp-removing",e="mfp-prevent-close";var S,z=function(){},J=!!(window.jQuery),B,a=C(window),x,A,F,b,L;var i=function(W,X){S.ev.on(D+W+d,X)},n=function(aa,X,Y,W){var Z=document.createElement("div");Z.className="mfp-"+aa;if(Y){Z.innerHTML=Y}if(!W){Z=C(Z);if(X){Z.appendTo(X)}}else{if(X){X.appendChild(Z)}}return Z},P=function(X,W){S.ev.triggerHandler(D+X,W);if(S.st.callbacks){X=X.charAt(0).toLowerCase()+X.slice(1);if(S.st.callbacks[X]){S.st.callbacks[X].apply(S,C.isArray(W)?W:[W])}}},E=function(W){if(W!==L||!S.currTemplate.closeBtn){S.currTemplate.closeBtn=C(S.st.closeMarkup.replace("%title%",S.st.tClose));L=W}return S.currTemplate.closeBtn},s=function(){if(!C.magnificPopup.instance){S=new z();S.init();C.magnificPopup.instance=S}},V=function(){var X=document.createElement("p").style,W=["ms","O","Moz","Webkit"];if(X.transition!==undefined){return true}while(W.length){if(W.pop()+"Transition" in X){return true}}return false};z.prototype={constructor:z,init:function(){var W=navigator.appVersion;S.isIE7=W.indexOf("MSIE 7.")!==-1;S.isIE8=W.indexOf("MSIE 8.")!==-1;S.isLowIE=S.isIE7||S.isIE8;S.isAndroid=(/android/gi).test(W);S.isIOS=(/iphone|ipad|ipod/gi).test(W);S.supportsTransition=V();S.probablyMobile=(S.isAndroid||S.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));A=C(document);S.popupsCache={}},open:function(ab){if(!x){x=C(document.body)}var ac;if(ab.isObj===false){S.items=ab.items.toArray();S.index=0;var ad=ab.items,ae;for(ac=0;ac<ad.length;ac++){ae=ad[ac];if(ae.parsed){ae=ae.el[0]}if(ae===ab.el[0]){S.index=ac;break}}}else{S.items=C.isArray(ab.items)?ab.items:[ab.items];S.index=ab.index||0}if(S.isOpen){S.updateItemHTML();return}S.types=[];b="";if(ab.mainEl&&ab.mainEl.length){S.ev=ab.mainEl.eq(0)}else{S.ev=A}if(ab.key){if(!S.popupsCache[ab.key]){S.popupsCache[ab.key]={}}S.currTemplate=S.popupsCache[ab.key]}else{S.currTemplate={}}S.st=C.extend(true,{},C.magnificPopup.defaults,ab);S.fixedContentPos=S.st.fixedContentPos==="auto"?!S.probablyMobile:S.st.fixedContentPos;if(S.st.modal){S.st.closeOnContentClick=false;S.st.closeOnBgClick=false;S.st.showCloseBtn=false;S.st.enableEscapeKey=false}if(!S.bgOverlay){S.bgOverlay=n("bg").on("click"+d,function(){S.close()});S.wrap=n("wrap").attr("tabindex",-1).on("click"+d,function(ag){if(S._checkIfClose(ag.target)){S.close()}});S.container=n("container",S.wrap)}S.contentContainer=n("content");if(S.st.preloader){S.preloader=n("preloader",S.container,S.st.tLoading)}var aa=C.magnificPopup.modules;for(ac=0;ac<aa.length;ac++){var Z=aa[ac];Z=Z.charAt(0).toUpperCase()+Z.slice(1);S["init"+Z].call(S)}P("BeforeOpen");if(S.st.showCloseBtn){if(!S.st.closeBtnInside){S.wrap.append(E())}else{i(f,function(aj,ah,ag,ai){ag.close_replaceWith=E(ai.type)});b+=" mfp-close-btn-in"}}if(S.st.alignTop){b+=" mfp-align-top"}if(S.fixedContentPos){S.wrap.css({overflow:S.st.overflowY,overflowX:"hidden",overflowY:S.st.overflowY})}else{S.wrap.css({top:a.scrollTop(),position:"absolute"})}if(S.st.fixedBgPos===false||(S.st.fixedBgPos==="auto"&&!S.fixedContentPos)){S.bgOverlay.css({height:A.height(),position:"absolute"})}if(S.st.enableEscapeKey){A.on("keyup"+d,function(ag){if(ag.keyCode===27){S.close()}})}a.on("resize"+d,function(){S.updateSize()});if(!S.st.closeOnContentClick){b+=" mfp-auto-cursor"}if(b){S.wrap.addClass(b)}var W=S.wH=a.height();var Y={};if(S.fixedContentPos){if(S._hasScrollBar(W)){var af=S._getScrollbarSize();if(af){Y.marginRight=af}}}if(S.fixedContentPos){if(!S.isIE7){Y.overflow="hidden"}else{C("body, html").css("overflow","hidden")}}var X=S.st.mainClass;if(S.isIE7){X+=" mfp-ie7"}if(X){S._addClassToMFP(X)}S.updateItemHTML();P("BuildControls");C("html").css(Y);S.bgOverlay.add(S.wrap).prependTo(S.st.prependTo||x);S._lastFocusedEl=document.activeElement;setTimeout(function(){if(S.content){S._addClassToMFP(I);S._setFocus()}else{S.bgOverlay.addClass(I)}A.on("focusin"+d,S._onFocusIn)},16);S.isOpen=true;S.updateSize(W);P(k);return ab},close:function(){if(!S.isOpen){return}P(H);S.isOpen=false;if(S.st.removalDelay&&!S.isLowIE&&S.supportsTransition){S._addClassToMFP(K);setTimeout(function(){S._close()},S.st.removalDelay)}else{S._close()}},_close:function(){P(y);var W=K+" "+I+" ";S.bgOverlay.detach();S.wrap.detach();S.container.empty();if(S.st.mainClass){W+=S.st.mainClass+" "}S._removeClassFromMFP(W);if(S.fixedContentPos){var X={marginRight:""};if(S.isIE7){C("body, html").css("overflow","")}else{X.overflow=""}C("html").css(X)}A.off("keyup"+d+" focusin"+d);S.ev.off(d);S.wrap.attr("class","mfp-wrap").removeAttr("style");S.bgOverlay.attr("class","mfp-bg");S.container.attr("class","mfp-container");if(S.st.showCloseBtn&&(!S.st.closeBtnInside||S.currTemplate[S.currItem.type]===true)){if(S.currTemplate.closeBtn){S.currTemplate.closeBtn.detach()}}if(S._lastFocusedEl){C(S._lastFocusedEl).focus()}S.currItem=null;S.content=null;S.currTemplate=null;S.prevHeight=0;P(v)},updateSize:function(X){if(S.isIOS){var Y=document.documentElement.clientWidth/window.innerWidth;var W=window.innerHeight*Y;S.wrap.css("height",W);S.wH=W}else{S.wH=X||a.height()}if(!S.fixedContentPos){S.wrap.css("height",S.wH)}P("Resize")},updateItemHTML:function(){var Z=S.items[S.index];S.contentContainer.detach();if(S.content){S.content.detach()}if(!Z.parsed){Z=S.parseEl(S.index)}var Y=Z.type;P("BeforeChange",[S.currItem?S.currItem.type:"",Y]);S.currItem=Z;if(!S.currTemplate[Y]){var X=S.st[Y]?S.st[Y].markup:false;P("FirstMarkupParse",X);if(X){S.currTemplate[Y]=C(X)}else{S.currTemplate[Y]=true}}if(F&&F!==Z.type){S.container.removeClass("mfp-"+F+"-holder")}var W=S["get"+Y.charAt(0).toUpperCase()+Y.slice(1)](Z,S.currTemplate[Y]);S.appendContent(W,Y);Z.preloaded=true;P(h,Z);F=Z.type;S.container.prepend(S.contentContainer);P("AfterChange")},appendContent:function(W,X){S.content=W;if(W){if(S.st.showCloseBtn&&S.st.closeBtnInside&&S.currTemplate[X]===true){if(!S.content.find(".mfp-close").length){S.content.append(E())}}else{S.content=W}}else{S.content=""}P(N);S.container.addClass("mfp-"+X+"-holder");S.contentContainer.append(S.content)},parseEl:function(W){var aa=S.items[W],Z;if(aa.tagName){aa={el:C(aa)}}else{Z=aa.type;aa={data:aa,src:aa.src}}if(aa.el){var Y=S.types;for(var X=0;X<Y.length;X++){if(aa.el.hasClass("mfp-"+Y[X])){Z=Y[X];break}}aa.src=aa.el.attr("data-mfp-src");if(!aa.src){aa.src=aa.el.attr("href")}}aa.type=Z||S.st.type||"inline";aa.index=W;aa.parsed=true;S.items[W]=aa;P("ElementParse",aa);return S.items[W]},addGroup:function(Y,X){var Z=function(aa){aa.mfpEl=this;S._openClick(aa,Y,X)};if(!X){X={}}var W="click.magnificPopup";X.mainEl=Y;if(X.items){X.isObj=true;Y.off(W).on(W,Z)}else{X.isObj=false;if(X.delegate){Y.off(W).on(W,X.delegate,Z)}else{X.items=Y;Y.off(W).on(W,Z)}}},_openClick:function(aa,Y,W){var X=W.midClick!==undefined?W.midClick:C.magnificPopup.defaults.midClick;if(!X&&(aa.which===2||aa.ctrlKey||aa.metaKey)){return}var Z=W.disableOn!==undefined?W.disableOn:C.magnificPopup.defaults.disableOn;if(Z){if(C.isFunction(Z)){if(!Z.call(S)){return true}}else{if(a.width()<Z){return true}}}if(aa.type){aa.preventDefault();if(S.isOpen){aa.stopPropagation()}}W.el=C(aa.mfpEl);if(W.delegate){W.items=Y.find(W.delegate)}S.open(W)},updateStatus:function(W,Y){if(S.preloader){if(B!==W){S.container.removeClass("mfp-s-"+B)}if(!Y&&W==="loading"){Y=S.st.tLoading}var X={status:W,text:Y};P("UpdateStatus",X);W=X.status;Y=X.text;S.preloader.html(Y);S.preloader.find("a").on("click",function(Z){Z.stopImmediatePropagation()});S.container.addClass("mfp-s-"+W);B=W}},_checkIfClose:function(Y){if(C(Y).hasClass(e)){return}var W=S.st.closeOnContentClick;var X=S.st.closeOnBgClick;if(W&&X){return true}else{if(!S.content||C(Y).hasClass("mfp-close")||(S.preloader&&Y===S.preloader[0])){return true}if((Y!==S.content[0]&&!C.contains(S.content[0],Y))){if(X){if(C.contains(document,Y)){return true}}}else{if(W){return true}}}return false},_addClassToMFP:function(W){S.bgOverlay.addClass(W);S.wrap.addClass(W)},_removeClassFromMFP:function(W){this.bgOverlay.removeClass(W);S.wrap.removeClass(W)},_hasScrollBar:function(W){return((S.isIE7?A.height():document.body.scrollHeight)>(W||a.height()))},_setFocus:function(){(S.st.focus?S.content.find(S.st.focus).eq(0):S.wrap).focus()},_onFocusIn:function(W){if(W.target!==S.wrap[0]&&!C.contains(S.wrap[0],W.target)){S._setFocus();return false}},_parseMarkup:function(Y,X,Z){var W;if(Z.data){X=C.extend(Z.data,X)}P(f,[Y,X,Z]);C.each(X,function(ab,ad){if(ad===undefined||ad===false){return true}W=ab.split("_");if(W.length>1){var ac=Y.find(d+"-"+W[0]);if(ac.length>0){var aa=W[1];if(aa==="replaceWith"){if(ac[0]!==ad[0]){ac.replaceWith(ad)}}else{if(aa==="img"){if(ac.is("img")){ac.attr("src",ad)}else{ac.replaceWith('<img src="'+ad+'" class="'+ac.attr("class")+'" />')}}else{ac.attr(W[1],ad)}}}}else{Y.find(d+"-"+ab).html(ad)}})},_getScrollbarSize:function(){if(S.scrollbarSize===undefined){var W=document.createElement("div");W.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(W);S.scrollbarSize=W.offsetWidth-W.clientWidth;document.body.removeChild(W)}return S.scrollbarSize}};C.magnificPopup={instance:null,proto:z.prototype,modules:[],open:function(X,W){s();if(!X){X={}}else{X=C.extend(true,{},X)}X.isObj=true;X.index=W||0;return this.instance.open(X)},close:function(){return C.magnificPopup.instance&&C.magnificPopup.instance.close()},registerModule:function(W,X){if(X.options){C.magnificPopup.defaults[W]=X.options}C.extend(this.proto,X.proto);this.modules.push(W)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};C.fn.magnificPopup=function(Y){s();var Z=C(this);if(typeof Y==="string"){if(Y==="open"){var W,aa=J?Z.data("magnificPopup"):Z[0].magnificPopup,X=parseInt(arguments[1],10)||0;if(aa.items){W=aa.items[X]}else{W=Z;if(aa.delegate){W=W.find(aa.delegate)}W=W.eq(X)}S._openClick({mfpEl:W},Z,aa)}else{if(S.isOpen){S[Y].apply(S,Array.prototype.slice.call(arguments,1))}}}else{Y=C.extend(true,{},Y);if(J){Z.data("magnificPopup",Y)}else{Z[0].magnificPopup=Y}S.addGroup(Z,Y)}return Z};var G="inline",R,O,r,l=function(){if(r){O.after(r.addClass(R)).detach();r=null}};C.magnificPopup.registerModule(G,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){S.types.push(G);i(y+"."+G,function(){l()})},getInline:function(aa,Z){l();if(aa.src){var W=S.st.inline,Y=C(aa.src);if(Y.length){var X=Y[0].parentNode;if(X&&X.tagName){if(!O){R=W.hiddenClass;O=n(R);R="mfp-"+R}r=Y.after(O).detach().removeClass(R)}S.updateStatus("ready")}else{S.updateStatus("error",W.tNotFound);Y=C("<div>")}aa.inlineElement=Y;return Y}S.updateStatus("ready");S._parseMarkup(Z,{},aa);return Z}}});var t="ajax",U,u=function(){if(U){x.removeClass(U)}},T=function(){u();if(S.req){S.req.abort()}};C.magnificPopup.registerModule(t,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){S.types.push(t);U=S.st.ajax.cursor;i(y+"."+t,T);i("BeforeChange."+t,T)},getAjax:function(X){if(U){x.addClass(U)}S.updateStatus("loading");var W=C.extend({url:X.src,success:function(aa,ab,Z){var Y={data:aa,xhr:Z};P("ParseAjax",Y);S.appendContent(C(Y.data),t);X.finished=true;u();S._setFocus();setTimeout(function(){S.wrap.addClass(I)},16);S.updateStatus("ready");P("AjaxContentAdded")},error:function(){u();X.finished=X.loadError=true;S.updateStatus("error",S.st.ajax.tError.replace("%url%",X.src))}},S.st.ajax.settings);S.req=C.ajax(W);return""}}});var g,c=function(W){if(W.data&&W.data.title!==undefined){return W.data.title}var X=S.st.image.titleSrc;if(X){if(C.isFunction(X)){return X.call(S,W)}else{if(W.el){return W.el.attr(X)||""}}}return""};C.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var X=S.st.image,W=".image";S.types.push("image");i(k+W,function(){if(S.currItem.type==="image"&&X.cursor){x.addClass(X.cursor)}});i(y+W,function(){if(X.cursor){x.removeClass(X.cursor)}a.off("resize"+d)});i("Resize"+W,S.resizeImage);if(S.isLowIE){i("AfterChange",S.resizeImage)}},resizeImage:function(){var X=S.currItem;if(!X||!X.img){return}if(S.st.image.verticalFit){var W=0;if(S.isLowIE){W=parseInt(X.img.css("padding-top"),10)+parseInt(X.img.css("padding-bottom"),10)}X.img.css("max-height",S.wH-W)}},_onImageHasSize:function(W){if(W.img){W.hasSize=true;if(g){clearInterval(g)}W.isCheckingImgSize=false;P("ImageHasSize",W);if(W.imgHidden){if(S.content){S.content.removeClass("mfp-loading")}W.imgHidden=false}}},findImageSize:function(Z){var W=0,X=Z.img[0],Y=function(aa){if(g){clearInterval(g)}g=setInterval(function(){if(X.naturalWidth>0){S._onImageHasSize(Z);return}if(W>200){clearInterval(g)}W++;if(W===3){Y(10)}else{if(W===40){Y(50)}else{if(W===100){Y(500)}}}},aa)};Y(1)},getImage:function(ac,Z){var ab=0,ad=function(){if(ac){if(ac.img[0].complete){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("ready")}ac.hasSize=true;ac.loaded=true;P("ImageLoadComplete")}else{ab++;if(ab<200){setTimeout(ad,100)}else{W()}}}},W=function(){if(ac){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("error",aa.tError.replace("%url%",ac.src))}ac.hasSize=true;ac.loaded=true;ac.loadError=true}},aa=S.st.image;var Y=Z.find(".mfp-img");if(Y.length){var X=document.createElement("img");X.className="mfp-img";ac.img=C(X).on("load.mfploader",ad).on("error.mfploader",W);X.src=ac.src;if(Y.is("img")){ac.img=ac.img.clone()}X=ac.img[0];if(X.naturalWidth>0){ac.hasSize=true}else{if(!X.width){ac.hasSize=false}}}S._parseMarkup(Z,{title:c(ac),img_replaceWith:ac.img},ac);S.resizeImage();if(ac.hasSize){if(g){clearInterval(g)}if(ac.loadError){Z.addClass("mfp-loading");S.updateStatus("error",aa.tError.replace("%url%",ac.src))}else{Z.removeClass("mfp-loading");S.updateStatus("ready")}return Z}S.updateStatus("loading");ac.loading=true;if(!ac.hasSize){ac.imgHidden=true;Z.addClass("mfp-loading");S.findImageSize(ac)}return Z}}});var j,M=function(){if(j===undefined){j=document.createElement("p").style.MozTransform!==undefined}return j};C.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(W){return W.is("img")?W:W.find("img")}},proto:{initZoom:function(){var X=S.st.zoom,aa=".zoom",ad;if(!X.enabled||!S.supportsTransition){return}var ac=X.duration,ab=function(ag){var af=ag.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),ah="all "+(X.duration/1000)+"s "+X.easing,ai={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ae="transition";ai["-webkit-"+ae]=ai["-moz-"+ae]=ai["-o-"+ae]=ai[ae]=ah;af.css(ai);return af},W=function(){S.content.css("visibility","visible")},Y,Z;i("BuildControls"+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.content.css("visibility","hidden");ad=S._getItemToZoom();if(!ad){W();return}Z=ab(ad);Z.css(S._getOffset());S.wrap.append(Z);Y=setTimeout(function(){Z.css(S._getOffset(true));Y=setTimeout(function(){W();setTimeout(function(){Z.remove();ad=Z=null;P("ZoomAnimationEnded")},16)},ac)},16)}});i(H+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.st.removalDelay=ac;if(!ad){ad=S._getItemToZoom();if(!ad){return}Z=ab(ad)}Z.css(S._getOffset(true));S.wrap.append(Z);S.content.css("visibility","hidden");setTimeout(function(){Z.css(S._getOffset())},16)}});i(y+aa,function(){if(S._allowZoom()){W();if(Z){Z.remove()}ad=null}})},_allowZoom:function(){return S.currItem.type==="image"},_getItemToZoom:function(){if(S.currItem.hasSize){return S.currItem.img}else{return false}},_getOffset:function(Y){var W;if(Y){W=S.currItem.img}else{W=S.st.zoom.opener(S.currItem.el||S.currItem)}var ab=W.offset();var X=parseInt(W.css("padding-top"),10);var aa=parseInt(W.css("padding-bottom"),10);ab.top-=(C(window).scrollTop()-X);var Z={width:W.width(),height:(J?W.innerHeight():W[0].offsetHeight)-aa-X};if(M()){Z["-moz-transform"]=Z.transform="translate("+ab.left+"px,"+ab.top+"px)"}else{Z.left=ab.left;Z.top=ab.top}return Z}}});var q="iframe",p="//about:blank",Q=function(W){if(S.currTemplate[q]){var X=S.currTemplate[q].find("iframe");if(X.length){if(!W){X[0].src=p}if(S.isIE8){X.css("display",W?"block":"none")}}}};C.magnificPopup.registerModule(q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1&rel=0"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){S.types.push(q);i("BeforeChange",function(Y,W,X){if(W!==X){if(W===q){Q()}else{if(X===q){Q(true)}}}});i(y+"."+q,function(){Q()})},getIframe:function(aa,Z){var W=aa.src;var Y=S.st.iframe;C.each(Y.patterns,function(){if(W.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){W=W.substr(W.lastIndexOf(this.id)+this.id.length,W.length)}else{W=this.id.call(this,W)}}W=this.src.replace("%id%",W);return false}});var X={};if(Y.srcAction){X[Y.srcAction]=W}S._parseMarkup(Z,X,aa);S.updateStatus("ready");return Z}}});var w=function(W){var X=S.items.length;if(W>X-1){return W-X}else{if(W<0){return X+W}}return W},o=function(Y,X,W){return Y.replace(/%curr%/gi,X+1).replace(/%total%/gi,W)};C.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var W=S.st.gallery,Y=".mfp-gallery",X=Boolean(C.fn.mfpFastClick);S.direction=true;if(!W||!W.enabled){return false}b+=" mfp-gallery";i(k+Y,function(){if(W.navigateByImgClick){S.wrap.on("click"+Y,".mfp-img",function(){if(S.items.length>1){S.next();return false}})}A.on("keydown"+Y,function(Z){if(Z.keyCode===37){S.prev()}else{if(Z.keyCode===39){S.next()}}})});i("UpdateStatus"+Y,function(aa,Z){if(Z.text){Z.text=o(Z.text,S.currItem.index,S.items.length)}});i(f+Y,function(ad,ab,aa,ac){var Z=S.items.length;aa.counter=Z>1?o(W.tCounter,ac.index,Z):""});i("BuildControls"+Y,function(){if(S.items.length>1&&W.arrows&&!S.arrowLeft){var ab=W.arrowMarkup,ac=S.arrowLeft=C(ab.replace(/%title%/gi,W.tPrev).replace(/%dir%/gi,"left")).addClass(e),aa=S.arrowRight=C(ab.replace(/%title%/gi,W.tNext).replace(/%dir%/gi,"right")).addClass(e);var Z=X?"mfpFastClick":"click";ac[Z](function(){S.prev()});aa[Z](function(){S.next()});if(S.isIE7){n("b",ac[0],false,true);n("a",ac[0],false,true);n("b",aa[0],false,true);n("a",aa[0],false,true)}S.container.append(ac.add(aa))}});i(h+Y,function(){if(S._preloadTimeout){clearTimeout(S._preloadTimeout)}S._preloadTimeout=setTimeout(function(){S.preloadNearbyImages();S._preloadTimeout=null},16)});i(y+Y,function(){A.off(Y);S.wrap.off("click"+Y);if(S.arrowLeft&&X){S.arrowLeft.add(S.arrowRight).destroyMfpFastClick()}S.arrowRight=S.arrowLeft=null})},next:function(){S.direction=true;S.index=w(S.index+1);S.updateItemHTML()},prev:function(){S.direction=false;S.index=w(S.index-1);S.updateItemHTML()},goTo:function(W){S.direction=(W>=S.index);S.index=W;S.updateItemHTML()},preloadNearbyImages:function(){var Z=S.st.gallery.preload,X=Math.min(Z[0],S.items.length),Y=Math.min(Z[1],S.items.length),W;for(W=1;W<=(S.direction?Y:X);W++){S._preloadItem(S.index+W)}for(W=1;W<=(S.direction?X:Y);W++){S._preloadItem(S.index-W)}},_preloadItem:function(W){W=w(W);if(S.items[W].preloaded){return}var X=S.items[W];if(!X.parsed){X=S.parseEl(W)}P("LazyLoad",X);if(X.type==="image"){X.img=C('<img class="mfp-img" />').on("load.mfploader",function(){X.hasSize=true}).on("error.mfploader",function(){X.hasSize=true;X.loadError=true;P("LazyLoadError",X)}).attr("src",X.src)}X.preloaded=true}}});var m="retina";C.magnificPopup.registerModule(m,{options:{replaceSrc:function(W){return W.src.replace(/\.\w+$/,function(X){return"@2x"+X})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var W=S.st.retina,X=W.ratio;X=!isNaN(X)?X:X();if(X>1){i("ImageHasSize."+m,function(Z,Y){Y.img.css({"max-width":Y.img[0].naturalWidth/X,width:"100%"})});i("ElementParse."+m,function(Z,Y){Y.src=W.replaceSrc(Y,X)})}}}}});(function(){var X=1000,Z="ontouchstart" in window,aa=function(){a.off("touchmove"+Y+" touchend"+Y)},W="mfpFastClick",Y="."+W;C.fn.mfpFastClick=function(ab){return C(this).each(function(){var ai=C(this),ah;if(Z){var aj,ae,ad,ag,ac,af;ai.on("touchstart"+Y,function(ak){ag=false;af=1;ac=ak.originalEvent?ak.originalEvent.touches[0]:ak.touches[0];ae=ac.clientX;ad=ac.clientY;a.on("touchmove"+Y,function(al){ac=al.originalEvent?al.originalEvent.touches:al.touches;af=ac.length;ac=ac[0];if(Math.abs(ac.clientX-ae)>10||Math.abs(ac.clientY-ad)>10){ag=true;aa()}}).on("touchend"+Y,function(al){aa();if(ag||af>1){return}ah=true;al.preventDefault();clearTimeout(aj);aj=setTimeout(function(){ah=false},X);ab()})})}ai.on("click"+Y,function(){if(!ah){ab()}})})};C.fn.destroyMfpFastClick=function(){C(this).off("touchstart"+Y+" click"+Y);if(Z){a.off("touchmove"+Y+" touchend"+Y)}}})();s()})(window.jQuery||window.Zepto);